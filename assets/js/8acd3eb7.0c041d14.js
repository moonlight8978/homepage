"use strict";(self.webpackChunkmoonlight_8978_github_io=self.webpackChunkmoonlight_8978_github_io||[]).push([[5725],{1273:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});var i=n(1527),t=n(7463);const a={sidebar_position:100},l="Unique ID",r={id:"sd/unique-id",title:"Unique ID",description:"Auto increment",source:"@site/docs/sd/unique-id.md",sourceDirName:"sd",slug:"/sd/unique-id",permalink:"/docs/sd/unique-id",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/sd/unique-id.md",tags:[],version:"current",sidebarPosition:100,frontMatter:{sidebar_position:100},sidebar:"tutorialSidebar",previous:{title:"Distributed system",permalink:"/docs/sd/distributed"},next:{title:"Patterns",permalink:"/docs/sd/patterns"}},c={},d=[{value:"Auto increment",id:"auto-increment",level:3},{value:"UUID",id:"uuid",level:3},{value:"Flickr Ticket server",id:"flickr-ticket-server",level:3},{value:"Twitter snowflake",id:"twitter-snowflake",level:3},{value:"Materials",id:"materials",level:3}];function o(e){const s={annotation:"annotation",h1:"h1",h3:"h3",li:"li",math:"math",mermaid:"mermaid",mn:"mn",mrow:"mrow",msup:"msup",p:"p",semantics:"semantics",span:"span",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{id:"unique-id",children:"Unique ID"}),"\n",(0,i.jsx)(s.h3,{id:"auto-increment",children:"Auto increment"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Hard to scale"}),"\n",(0,i.jsx)(s.li,{children:"Do not go up with time across multiple servers"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"uuid",children:"UUID"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Non-numeric"}),"\n",(0,i.jsx)(s.li,{children:"Do not go up with time"}),"\n",(0,i.jsx)(s.li,{children:"128-bits long"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"flickr-ticket-server",children:"Flickr Ticket server"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Centralize auto increment ID in a single database server, called a Ticket Server"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"twitter-snowflake",children:"Twitter snowflake"}),"\n",(0,i.jsx)(s.mermaid,{value:'block-beta\n  columns 12\n  a["1 bit\\nReserved"]:1 b["41 bit\\nTimestamp Millis"]:4 c["5 bit\\nDatacenter ID"]:3 d["5 bit\\nMachine ID"]:3 e["12 bit\\nSequence ID"]:2'}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Each millisecond, single machine can generate up to ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mn,{children:"4096"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"4096"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(s.span,{className:"mord",children:"4096"})]})})]})," (",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsxs)(s.msup,{children:[(0,i.jsx)(s.mn,{children:"2"}),(0,i.jsx)(s.mn,{children:"12"})]})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"2^{12}"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.8141em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord",children:"2"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsx)(s.span,{className:"vlist-t",children:(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.8141em"},children:(0,i.jsxs)(s.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:"12"})})})]})})})})})]})]})})]}),") records"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"materials",children:"Materials"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Clock synchronization: Network Time Protocol"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Snowflake section length tunning"}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.a)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},7463:(e,s,n)=>{n.d(s,{Z:()=>r,a:()=>l});var i=n(959);const t={},a=i.createContext(t);function l(e){const s=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(a.Provider,{value:s},e.children)}}}]);