(self.webpackChunkmoonlight_8978_github_io=self.webpackChunkmoonlight_8978_github_io||[]).push([[4178],{3905:function(t,e,n){"use strict";n.d(e,{Zo:function(){return h},kt:function(){return u}});var a=n(7294);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(null==t)return{};var n,a,i=function(t,e){if(null==t)return{};var n,a,i={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var l=a.createContext({}),p=function(t){var e=a.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},h=function(t){var e=p(t.components);return a.createElement(l.Provider,{value:e},t.children)},s={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var n=t.components,i=t.mdxType,r=t.originalType,l=t.parentName,h=c(t,["components","mdxType","originalType","parentName"]),m=p(n),u=i,g=m["".concat(l,".").concat(u)]||m[u]||s[u]||r;return n?a.createElement(g,o(o({ref:e},h),{},{components:n})):a.createElement(g,o({ref:e},h))}));function u(t,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var r=n.length,o=new Array(r);o[0]=m;var c={};for(var l in e)hasOwnProperty.call(e,l)&&(c[l]=e[l]);c.originalType=t,c.mdxType="string"==typeof t?t:i,o[1]=c;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1087:function(t,e,n){"use strict";n.r(e),n.d(e,{frontMatter:function(){return c},metadata:function(){return l},toc:function(){return p},default:function(){return s}});var a=n(2122),i=n(9756),r=(n(7294),n(3905)),o=["components"],c={slug:"cuoi-react-native-xem-appium-phan-1-cung-tim-hieu-cach-hoat-dong-cua-appium",title:"C\u01b0\u1ee1i React Native xem Appium (Ph\u1ea7n 1 - C\xf9ng t\xecm hi\u1ec3u c\xe1ch ho\u1ea1t \u0111\u1ed9ng c\u1ee7a Appium)",author:"L\xea S\u0129 B\xedch",author_title:"Ruby on Rails/React Developer",author_url:"https://github.com/moonlight8978",tags:["react-native","e2e-testing","appium"]},l={permalink:"/blog/cuoi-react-native-xem-appium-phan-1-cung-tim-hieu-cach-hoat-dong-cua-appium",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/blog/blog/2021-01-04-appium-react-native.md",source:"@site/blog/2021-01-04-appium-react-native.md",title:"C\u01b0\u1ee1i React Native xem Appium (Ph\u1ea7n 1 - C\xf9ng t\xecm hi\u1ec3u c\xe1ch ho\u1ea1t \u0111\u1ed9ng c\u1ee7a Appium)",description:"Do d\xf2ng \u0111\u1eddi \u0111\u01b0a \u0111\u1ea9y v\xe0 kh\xe1ch th\xec ti\u1ec1n \xedt nh\u01b0ng l\u1ea1i th\xedch h\xedt h\xe0ng th\u01a1m (to\xe0n \u0111\xf2i 80~100 coverage -\\_-) n\xean m\xecnh c\u0169ng \u0111\xe3 kinh qua react-native-testing-library m\u1ed9t th\u1eddi gian kha kh\xe1, v\xe0 c\u0169ng ngh\u1ecbch th\u1eed Detox, nh\u01b0ng ch\u01b0a th\u1eb1ng n\xe0o l\xe0m m\xecnh h\xe0i l\xf2ng:",date:"2021-01-04T00:00:00.000Z",formattedDate:"January 4, 2021",tags:[{label:"react-native",permalink:"/blog/tags/react-native"},{label:"e2e-testing",permalink:"/blog/tags/e-2-e-testing"},{label:"appium",permalink:"/blog/tags/appium"}],readingTime:13.14,truncated:!1,prevItem:{title:"C\xf9ng t\xecm hi\u1ec3u v\u1ec1 Puma (Ruby on Rails)",permalink:"/blog/cung-tim-hieu-ve-puma-ruby-on-rails"},nextItem:{title:"Gi\u1edbi thi\u1ec7u v\u1ec1 Kubernetes",permalink:"/blog/gioi-thieu-ve-kubernetes"}},p=[{value:"M\u1ed9t v\xe0i ki\u1ebfn th\u1ee9c c\u1ea7n c\xf3",id:"m\u1ed9t-v\xe0i-ki\u1ebfn-th\u1ee9c-c\u1ea7n-c\xf3",children:[]},{value:"Hardware",id:"hardware",children:[]},{value:"V\xed d\u1ee5 tr\xean l\xe0m g\xec?",id:"v\xed-d\u1ee5-tr\xean-l\xe0m-g\xec",children:[]},{value:"Ph\xe2n t\xedch m\u1ed9t v\xe0i note v\u1ec1 c\xfa ph\xe1p",id:"ph\xe2n-t\xedch-m\u1ed9t-v\xe0i-note-v\u1ec1-c\xfa-ph\xe1p",children:[]}],h={toc:p};function s(t){var e=t.components,n=(0,i.Z)(t,o);return(0,r.kt)("wrapper",(0,a.Z)({},h,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Do d\xf2ng \u0111\u1eddi \u0111\u01b0a \u0111\u1ea9y v\xe0 kh\xe1ch th\xec ti\u1ec1n \xedt nh\u01b0ng l\u1ea1i th\xedch h\xedt h\xe0ng th\u01a1m (to\xe0n \u0111\xf2i 80~100 coverage -","_","-) n\xean m\xecnh c\u0169ng \u0111\xe3 kinh qua ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/callstack/react-native-testing-library"},"react-native-testing-library")," m\u1ed9t th\u1eddi gian kha kh\xe1, v\xe0 c\u0169ng ngh\u1ecbch th\u1eed ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/wix/Detox"},"Detox"),", nh\u01b0ng ch\u01b0a th\u1eb1ng n\xe0o l\xe0m m\xecnh h\xe0i l\xf2ng:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Testing-library: Khi test e2e th\xec ph\u1ea3i mock qu\xe1 nhi\u1ec1u, kh\xe1 kh\xf3 \u0111\u1ec3 mock component sao cho ho\u1ea1t \u0111\u1ed9ng gi\u1ed1ng nh\u01b0 component th\u1eadt. C\xf3 nh\u1eefng l\xfac m\xecnh ch\u1ec9 vi\u1ebft \u0111\u1ec3 cho % coverage l\xean ch\u1ee9 c\xe1c fn c\u1ee7a test \u0111\xf3 b\u1ecb mock h\u1ebft, th\xe0nh ra ch\u1ea3 c\xf3 \xfd ngh\u0129a g\xec nhi\u1ec1u. C\xe1c th\xe0nh ph\u1ea7n UI b\u1ecb mock h\u1ebft, n\xean test pass m\xe0 v\u1eabn ch\u1ebft l\xe0 \u0111i\u1ec1u b\xecnh th\u01b0\u1eddng nh\u01b0 c\xe2n \u0111\u01b0\u1eddng h\u1ed9p s\u1eefa."),(0,r.kt)("li",{parentName:"ul"},"Detox: ch\u01a1i v\u1edbi m\u1ed7i simulator, device th\u1eadt ko r\xf5 t\u1edbi gi\u1edd \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\xe1nh \u0111i\u1ec7n t\u1eed ch\u01b0a.")),(0,r.kt)("p",null,"V\xe0 g\u1ea7n \u0111\xe2y th\xec m\xecnh \u0111\u1ecdc l\u1ea1i ",(0,r.kt)("a",{parentName:"p",href:"https://reactnative.dev/docs/testing-overview#end-to-end-tests"},"docs c\u1ee7a React Native")," c\xf3 recommend th\xeam 1 th\u1eb1ng - Appium. Appium s\u1eed d\u1ee5ng driver nh\u01b0 XCUITest, UIAutomator, Espresso, ... \u0110\u01b0\u1ee3c c\xe1c teito (tay to :v) native \u1edf c\xf4ng ty b\u1ea3o m\u1ea5y th\u1eb1ng driver tr\xean to\xe0n l\xe0 h\xe0ng h\u1ecbn b\xean native d\xf9ng \u0111\u1ec3 ch\u1ea1y test, n\xean th\u1eed ngh\u1ecbch lu\xf4n. Sau m\u1ed9t th\u1eddi gian m\xe0y m\xf2 th\xec kh\xe1 h\xe0i l\xf2ng."),(0,r.kt)("h4",{id:"t\u1ea1i-sao-l\u1ea1i-d\xf9ng-appium-m\xe0-ko-ch\u1ea1y-c\u01a1m-cho-kh\u1ecfe"},"T\u1ea1i sao l\u1ea1i d\xf9ng Appium m\xe0 ko ch\u1ea1y c\u01a1m cho kh\u1ecfe?"),(0,r.kt)("p",null,"N\xf3i th\u1ebf ch\u1ee9 th\u1ef1c ra th\xec ch\u1ea1y c\u01a1m kh\xf4ng h\u1ec1 kh\u1ecfe t\xed n\xe0o \u0111\xe2u c\xe1c b\u1ea1n."),(0,r.kt)("p",null,"Khi ta ph\xe1t tri\u1ec3n 1 feature m\u1edbi cho app, ta ph\u1ea3i test cho c\u1ea3 nh\u1eefng t\xednh n\u0103ng \u0111\xe3 c\xf3, \u1ea3nh h\u01b0\u1edfng t\u1edbi ch\xfang l\xe0 \u0111i\u1ec1u kh\xf3 tr\xe1nh kh\u1ecfi."),(0,r.kt)("p",null,'Th\xf4ng th\u01b0\u1eddng dev ch\xfang ta s\u1ebd ngh\u0129 l\xe0 "C\xf3 tester r\u1ed3i xo\u1eafn g\xec" \u0111\xfang kh\xf4ng n\xe0o? Tuy nhi\xean ph\u1eadn dev qu\xe8n th\xec c\u0169ng v\u1eabn ph\u1ea3i check qua nh\u1eefng case c\u01a1 b\u1ea3n, (test th\xeam case d\u1ecb c\xe0ng t\u1ed1t) tr\u01b0\u1edbc khi chuy\u1ec3n qua cho tester. Nh\u01b0ng kh\xf4ng l\u1ebd c\u1ee9 vi\u1ebft m\u1ed9t feature l\xe0 ng\u1ed3i b\u1eadt app l\xean b\u1ea5m t\u1eebng n\xfat, ch\u01b0a k\u1ec3 ',(0,r.kt)("del",{parentName:"p"},"xe \u0111\u1ea1p m\u1edbi ( m\xecnh c\xf3 m\u1ed9t ng\u01b0\u1eddi b\u1ea1n r\u1ea5t hay nh\u1ea7m newbie v\xe0 newbike =)) )")," newbie kh\xf4ng n\u1eafm r\xf5 h\u1ec7 th\u1ed1ng, lack case l\xe0 \u0111i\u1ec1u t\u1ea5t nhi\xean, h\u01a1n n\u1eefa con ng\u01b0\u1eddi ch\xfang ta kh\xf4ng gi\u1ecfi trong nh\u1eefng vi\u1ec7c nh\xe0m ch\xe1n c\xf3 t\xednh l\u1eb7p l\u1ea1i cao nh\u01b0 test app, v\xec v\u1eady d\xf9 c\xf3 l\xe0 b\xf4 l\xe3o th\xec c\u0169ng s\u1ebd c\xf3 l\xfac nh\u1ea7m l\u1eabn."),(0,r.kt)("p",null,'Ngo\xe0i ra, \u1edf cu\u1ed1n "The Effective Engineer" c\u1ee7a Edmond Lau (n\u1ebfu ko c\xf3 g\xec sai s\xf3t th\xec l\xe0 trang 159) c\xf3 vi\u1ebft:'),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"If you have to do something manually more than twice, then write a tool for the third time")),(0,r.kt)("p",null,"V\u1eady th\xec sao ch\xfang ta kh\xf4ng \u0111\u1ec3 m\xe1y l\xe0m nh\u1eefng c\xf4ng vi\u1ec7c nh\xe0m ch\xe1n nh\u01b0 test, v\xe0 focus v\xe0o nh\u1eefng vi\u1ec7c khi\u1ebfn ta h\u1ee9ng th\xfa h\u01a1n. H\xe3y c\xf9ng h\u1ecdc vi\u1ebft test t\u1ef1 \u0111\u1ed9ng cho \u1ee9ng d\u1ee5ng React Native c\u1ee7a ch\xfang ta th\xf4i n\xe0o!"),(0,r.kt)("h3",{id:"m\u1ed9t-v\xe0i-ki\u1ebfn-th\u1ee9c-c\u1ea7n-c\xf3"},"M\u1ed9t v\xe0i ki\u1ebfn th\u1ee9c c\u1ea7n c\xf3"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"React Native, Babel (kh\xf4ng c\u1ea7n qu\xe1 m\xe1t t\u01a1)"),(0,r.kt)("li",{parentName:"ul"},"N\u1eafm \u0111\u01b0\u1ee3c c\u01a1 b\u1ea3n v\u1ec1 vi\u1ebft unit test (v\u1edbi jest, hay g\xec \u0111\xf3 t\u01b0\u01a1ng t\u1ef1)"),(0,r.kt)("li",{parentName:"ul"},"Typescript (optional): do \u1edf b\xe0i vi\u1ebft s\u1ebd d\xf9ng Typescript")),(0,r.kt)("h3",{id:"hardware"},"Hardware"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"M\xe1y Mac/Hackintosh \u0111\u1ec3 build iOS ho\u1eb7c m\xe1y Win (ch\u1ec9 ch\u1ea1y \u0111\u01b0\u1ee3c Android th\xf4i)"),(0,r.kt)("li",{parentName:"ul"},"1 con \u0111i\u1ec7n tho\u1ea1i iOS ho\u1eb7c Android - n\xf3i kh\xf4ng v\u1edbi integration test tr\xean simulator :v")),(0,r.kt)("h1",{id:"2-ch\u1ea1y-th\u1eed-v\xed-d\u1ee5-nh\u1ecf"},"2. Ch\u1ea1y th\u1eed v\xed d\u1ee5 nh\u1ecf"),(0,r.kt)("p",null,"T\u1ef1 d\u01b0ng nh\u1ed3i m\u1ed9t \u0111\u1ed1ng l\xfd thuy\u1ebft su\xf4ng, trong khi kh\xf4ng bi\u1ebft m\xecnh s\u1ebd l\xe0m g\xec c\xf3 ph\u1ea3i r\u1ea5t ch\xe1n kh\xf4ng n\xe0o? V\xec v\u1eady tr\u01b0\u1edbc ti\xean ta h\xe3y ch\u1ea1y th\u1eed m\u1ed9t v\xed d\u1ee5 nh\u1ecf sau tr\u01b0\u1edbc \u0111\xe3: \u0110\u0103ng k\xed account"),(0,r.kt)("p",null,"V\xed d\u1ee5 sau d\xf9ng Typescript + WebdriverIO, v\xe0 c\xf3 c\u1ea5u tr\xfac t\u01b0\u01a1ng \u0111\u01b0\u01a1ng v\u1edbi v\xed d\u1ee5 tr\xean trang ch\u1ee7 c\u1ee7a Appium ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/appium/appium/tree/master/sample-code/javascript-webdriverio"},"link")," (C\xe1c b\u1ea1n c\u0169ng c\xf3 th\u1ec3 v\xe0o link tr\xean b\u1eb1ng truy c\u1eadp ",(0,r.kt)("a",{parentName:"p",href:"http://appium.io/"},"trang ch\u1ee7 Appium")," r\u1ed3i b\u1ea5m v\xe0o n\xfat Examples), t\u1ea5t nhi\xean \u0111\u1ec3 go pro th\xec ta s\u1ebd ko code nh\u01b0 v\u1eady, m\xecnh s\u1ebd th\u1ef1c hi\u1ec7n refactor v\xe0 chuy\u1ec3n \u0111\u1ed5i m\xf4i tr\u01b0\u1eddng ch\u1ea1y test \u1edf c\xe1c b\xe0i sau ( n\u1ebfu c\xf3 =)) )."),(0,r.kt)("p",null,"Sau khi setup Babel c\xf9ng v\u1edbi Jest (do Jest lu\xf4n \u0111i k\xe8m v\u1edbi React Native n\xean m\xecnh d\xf9ng lu\xf4n \u0111\u1ec3 demo cho th\xe2n thi\u1ec7n), h\xe3y vi\u1ebft 1 \u0111o\u1ea1n test \u0111\u01a1n gi\u1ea3n cho qu\xe1 tr\xecnh sign up c\u1ee7a ta.\nHi\u1ec7n t\u1ea1i m\xecnh ch\u1ec9 fill nh\u1eefng field text input, v\xec field select, date picker vi\u1ebft kh\xe1 d\xe0i, n\xean m\xecnh s\u1ebd \u0111\u1ec1 c\u1eadp sau."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"N\xf3i nhi\u1ec1u qu\xe1, code \u0111\xe2u?")),(0,r.kt)("p",null,"V\xe2ng, code \u0111\xe2y (\u1edf d\u01b0\u1edbi c\xf3 gi\u1ea3i th\xedch code)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { BrowserObject, remote, RemoteOptions } from "webdriverio";\n\nconst iOS: RemoteOptions = {\n  path: "/wd/hub",\n  host: "localhost",\n  port: 4723,\n  capabilities: {\n    platformName: "iOS",\n    automationName: "XCUITest",\n    deviceName: "iPhone (2)",\n    platformVersion: "14.1",\n    app: "org.reactjs.native.example.LearnRnE2eTest",\n    udid: process.env.IOS_DEVICE_UUID,\n    xcodeOrgId: "xxx",\n    xcodeSigningId: "Apple Development",\n  },\n};\n\nconst android: RemoteOptions = {\n  path: "/wd/hub",\n  host: "localhost",\n  port: 4723,\n  capabilities: {\n    automationName: "UiAutomator2",\n    platformName: "android",\n    platformVersion: "8.0.0",\n    deviceName: "BH9057609A",\n    appPackage: "com.learnrne2etest",\n    appActivity: ".MainActivity",\n  },\n};\n\nlet client: BrowserObject;\n\nbeforeEach(async () => {\n  client = await remote(iOS);\n  console.error(client);\n});\n\nafterEach(async () => {\n  if (client) {\n    await client.deleteSession();\n  }\n});\n\nconst scrollTo = async (a11yId: string) => {\n  if (client.options.capabilities.platformName === "android") {\n    await client.execute("mobile: scroll", {\n      strategy: "accessibility id",\n      selector: a11yId,\n    });\n  }\n};\n\nit("sign up the user", async () => {\n  const toRegistrationScreenButton = await client.$(\n    "~login/toRegistrationScreenButton"\n  );\n  await toRegistrationScreenButton.click();\n\n  const registerButton = await client.$("~registration/registerButton");\n  await scrollTo("registration/toLoginScreenButton");\n  await registerButton.click();\n\n  await scrollTo("registration/usernameInput-error");\n  let usernameError = await client.$("~registration/usernameInput-error");\n  expect(await usernameError.getText()).toMatch("Please enter username");\n\n  const passwordError = await client.$("~registration/passwordInput-error");\n  expect(await passwordError.getText()).toMatch("Please enter password");\n\n  let passwordConfirmationError = await client.$(\n    "~registration/passwordConfirmationInput-error"\n  );\n  expect(await passwordConfirmationError.getText()).toMatch(\n    "Please confirm your password"\n  );\n\n  const fullNameError = await client.$("~registration/fullNameInput-error");\n  expect(await fullNameError.getText()).toMatch("Please enter your full name");\n\n  const usernameInput = await client.$("~registration/usernameInput");\n  await usernameInput.setValue("user..01");\n  usernameError = await client.$("~registration/usernameInput-error");\n  expect(await usernameError.getText()).toMatch(\n    "Username must be alphabet and numbers"\n  );\n  await usernameInput.setValue("user");\n\n  const passwordInput = await client.$("~registration/passwordInput");\n  await passwordInput.setValue("password");\n\n  const passwordConfirmationInput = await client.$(\n    "~registration/passwordConfirmationInput"\n  );\n  await passwordConfirmationInput.setValue("password123");\n  passwordConfirmationError = await client.$(\n    "~registration/passwordConfirmationInput-error"\n  );\n  expect(await passwordConfirmationError.getText()).toMatch(\n    "Password confirmation must match your password"\n  );\n  await passwordConfirmationInput.setValue("password");\n\n  const fullNameInput = await client.$("~registration/fullNameInput");\n  await fullNameInput.setValue("Test");\n\n  await client.hideKeyboard();\n\n  await scrollTo("registration/toLoginScreenButton");\n  await registerButton.click();\n\n  await client.waitUntil(\n    () =>\n      client\n        .$("~registrationCompleted/toLoginScreenButton")\n        .then((element) => element.isDisplayed()),\n    { timeout: 10000 }\n  );\n});\n')),(0,r.kt)("p",null,"Chi ti\u1ebft source code c\xf3 th\u1ec3 xem t\u1ea1i ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/moonlight8978/learn-rn-e2e-test/tree/jest/e2e"},"\u0111\xe2y")),(0,r.kt)("p",null,"Source code c\u1ee7a c\xe1c m\xe0n h\xecnh c\xf3 th\u1ec3 xem t\u1ea1i \u0111\xe2y:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Login screen ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/moonlight8978/learn-rn-e2e-test/blob/jest/rn-app/src/screens/login/login.tsx"},"link")),(0,r.kt)("li",{parentName:"ul"},"Registration screen ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/moonlight8978/learn-rn-e2e-test/blob/jest/rn-app/src/screens/registration/registration.tsx"},"link"))),(0,r.kt)("p",null,"V\xe0 \u0111\xe2y l\xe0 th\xe0nh ph\u1ea9m:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"$ yarn test\n\n PASS  __tests__/sign-up.spec.ts (18.817 s)\n  \u2713 sign up the user (17179 ms)\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        18.869 s, estimated 29 s\nRan all test suites.\n\u2728  Done in 21.80s.\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"iOS"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Android"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("img",{parentName:"td",src:"https://images.viblo.asia/30a3e57a-44ab-4c56-b4cf-0047bb221353.gif",alt:null})),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("img",{parentName:"td",src:"https://images.viblo.asia/907005db-f46a-40ea-9b3c-f269fe06646d.gif",alt:null}))))),(0,r.kt)("h3",{id:"v\xed-d\u1ee5-tr\xean-l\xe0m-g\xec"},"V\xed d\u1ee5 tr\xean l\xe0m g\xec?"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"T\u1eeb m\xe0n ",(0,r.kt)("strong",{parentName:"p"},"Login"),", b\u1ea5m v\xe0o button \u300cCreate an account\u300d ",(0,r.kt)("inlineCode",{parentName:"p"},"login/toRegistrationScreenButton")," \u0111\u1ec3 v\xe0o m\xe0n ",(0,r.kt)("strong",{parentName:"p"},"Registration"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"T\u1ea1i m\xe0n ",(0,r.kt)("strong",{parentName:"p"},"Registration")),(0,r.kt)("p",{parentName:"li"},"1.1.B\u1ea5m v\xe0o n\xfat \u300cRegister\u300d",(0,r.kt)("inlineCode",{parentName:"p"},"registration/registerButton"),", do m\xe1y Android c\u1ee7a m\xecnh m\xe0n h\u01a1i ng\u1eafn, n\xean tr\u01b0\u1edbc khi click ph\u1ea3i scroll t\u1edbi element \u0111\xf3 tr\u01b0\u1edbc."),(0,r.kt)("p",{parentName:"li"},"1.2. Do ch\u01b0a fill g\xec n\xean expect error message hi\u1ec3n th\u1ecb t\u01b0\u01a1ng \u1ee9ng"),(0,r.kt)("p",{parentName:"li"},"1.3. Fill \u300cuser..01\u300dv\xe0o input username, do field n\xe0y ch\u1ec9 nh\u1eadn alphabet v\xe0 s\u1ed1, n\xean gi\xe1 tr\u1ecb \u0111\xf3 ko h\u1ee3p l\u1ec7, expect hi\u1ec3n th\u1ecb error message"),(0,r.kt)("p",{parentName:"li"},"1.4. Fill username 1 gi\xe1 tr\u1ecb h\u1ee3p l\u1ec7 \u300cuser\u300d"),(0,r.kt)("p",{parentName:"li"},"1.5. Fill password \u300cpassword\u300d"),(0,r.kt)("p",{parentName:"li"},"1.6. Fill password confirmation\u300cpassword123\u300d, do ko match password \u0111\xe3 nh\u1eadp n\xean s\u1ebd hi\u1ec3n th\u1ecb error"),(0,r.kt)("p",{parentName:"li"},"1.7. Fill password confirmation h\u1ee3p l\u1ec7 \u300cpassword\u300d"),(0,r.kt)("p",{parentName:"li"},"1.8. Fill full name"),(0,r.kt)("p",{parentName:"li"},"1.9. B\u1ea5m v\xe0o n\xfat \u300cRegister\u300d")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"User \u0111\u01b0\u1ee3c chuy\u1ec3n qua m\xe0n RegistrationCompleted, n\xean ta expect button \u1edf m\xe0n n\xe0y \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb."))),(0,r.kt)("h3",{id:"ph\xe2n-t\xedch-m\u1ed9t-v\xe0i-note-v\u1ec1-c\xfa-ph\xe1p"},"Ph\xe2n t\xedch m\u1ed9t v\xe0i note v\u1ec1 c\xfa ph\xe1p"),(0,r.kt)("p",null,"C\xfa ph\xe1p c\u1ee7a WebdriverIO nh\xecn kh\xe1 trong s\xe1ng v\xe0 d\u1ec5 hi\u1ec3u, n\xean m\xecnh s\u1ebd kh\xf4ng gi\u1ea3i th\xedch nhi\u1ec1u, tuy nhi\xean c\xf3 m\u1ed9t v\xe0i ch\xfa \xfd d\u01b0\u1edbi \u0111\xe2y cho c\xe1c b\u1ea1n."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Khi t\xecm element, m\xecnh \u0111\xe3 d\xf9ng ",(0,r.kt)("inlineCode",{parentName:"p"},"~"),", \u0111\xe2y l\xe0 shorthand \u0111\u1ec3 t\xecm element theo ",(0,r.kt)("inlineCode",{parentName:"p"},"accessibility id")," c\u1ee7a WebdriverIO, tu\u1ef3 theo OS m\xe0 ta s\u1ebd ph\u1ea3i g\xe1n prop kh\xe1c nhau \u0111\u1ec3 c\xf3 th\u1ec3 d\xf9ng \u0111\u01b0\u1ee3c strategy t\xecm theo ",(0,r.kt)("inlineCode",{parentName:"p"},"accessibility id")," n\xe0y ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/native-demo-app/blob/master/js/config/TestProperties.js"},"link"),", ch\u1ec9 v\xec c\xe1i n\xe0y m\xe0 m\xecnh m\u1ea5t v\xe0i ti\u1ebfng, ko hi\u1ec3u t\u1ea1i sao ko t\xecm th\u1ea5y element =))"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u1ede b\xean iOS ta ph\u1ea3i d\xf9ng ",(0,r.kt)("inlineCode",{parentName:"li"},"testID"),", v\xe0 tr\xe1nh g\xe1n ",(0,r.kt)("inlineCode",{parentName:"li"},"accessibilityLabel")," v\xe0 ",(0,r.kt)("inlineCode",{parentName:"li"},"accessibilityHint")," cho component."),(0,r.kt)("li",{parentName:"ul"},"\u1ede b\xean Android, h\xe3y d\xf9ng ",(0,r.kt)("inlineCode",{parentName:"li"},"accessibilityLabel"))),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"C\xe1c b\u1ea1n c\xf3 th\u1ec3 tham kh\u1ea3o c\xe1c strategy kh\xe1c \u1edf docs c\u1ee7a webdriverio ",(0,r.kt)("a",{parentName:"li",href:"https://webdriver.io/docs/selectors.html"},"link")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"T\u1ea1i sao l\u1ea1i d\xf9ng ",(0,r.kt)("inlineCode",{parentName:"p"},"accessibility id")," m\xe0 kh\xf4ng d\xf9ng content c\u1ee7a n\xf3?"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u0110\xfang ra l\xe0 khi b\u1ea5m button hay thao t\xe1c tr\xean m\xe0n h\xecnh, ch\xfang ta n\xean d\xf9ng text c\u1ee7a n\xf3, \u0111\u1ec3 khi text (requirement) thay \u0111\u1ed5i th\xec test c\u0169ng o\u1eb3ng. Nh\u01b0ng m\xe0 c\u01a1 b\u1ea3n l\xe0 do ",(0,r.kt)("del",{parentName:"li"},"h\u01a1i b\u1eadn")," l\u01b0\u1eddi =)) v\xe0 tr\u01b0\u1eddng h\u1ee3p accessibility id \u0111\xfang nh\u01b0ng text sai th\xec ph\u1ea3i ch\u1ea5p nh\u1eadn th\xf4i \xe0 =))")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Do API c\u1ee7a WebdriverIO to\xe0n tr\u1ea3 v\u1ec1 Promise, n\xean h\u1ea7u nh\u01b0 c\xe2u l\u1ec7nh n\xe0o c\u0169ng c\u1ea7n ph\u1ea3i d\xf9ng ",(0,r.kt)("inlineCode",{parentName:"p"},"async/await"),", c\xe1c b\u1ea1n c\xf3 th\u1ec3 s\u1eed d\u1ee5ng k\xe8m package ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@wdio/sync"},(0,r.kt)("inlineCode",{parentName:"a"},"@wdio/sync"))," \u0111\u1ec3 API c\u1ee7a WebdriverIO tr\u1edf n\xean \u0111\u1ed3ng b\u1ed9.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"C\xe1c b\u1ea1n c\xf3 \u0111\u1ec3 \xfd \u0111o\u1ea1n code \u1edf ",(0,r.kt)("inlineCode",{parentName:"p"},"beforeEach")," v\xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},"afterEach")," kh\xf4ng? M\u1ed7i test, ch\xfang ta \u0111ang t\u1ea1o ra m\u1ed9t session m\u1edbi, v\xe0 xo\xe1 session \u0111\xf3 sau m\u1ed7i test. N\u1ebfu d\xf9ng CLI c\u1ee7a wdio th\xec s\u1ebd thu\u1eadn ti\u1ec7n h\u01a1n.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Options ",(0,r.kt)("inlineCode",{parentName:"p"},"xcodeOrgId")," v\xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},"xcodeSigningId")," b\xean trong ",(0,r.kt)("inlineCode",{parentName:"p"},"capabilities")," c\u1ee7a ",(0,r.kt)("inlineCode",{parentName:"p"},"RemoteOptions")," iOS"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u0110\u1ec3 ch\u1ea1y test tr\xean thi\u1ebft b\u1ecb iOS, Appium s\u1ebd c\xe0i m\u1ed9t ph\u1ea7n m\u1ec1m t\xean l\xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},"WebDriverAgent")," l\xean thi\u1ebft b\u1ecb, v\xe0 \u0111\u1ec3 c\xe0i \u0111\u1eb7t \u0111\u01b0\u1ee3c, ta ph\u1ea3i cung c\u1ea5p developer team v\xe0 signing certificate."),(0,r.kt)("p",{parentName:"li"},"C\xe1c b\u1ea1n c\xf3 th\u1ec3 xem th\xeam t\u1ea1i \u0111\xe2y ",(0,r.kt)("a",{parentName:"p",href:"http://appium.io/docs/en/drivers/ios-xcuitest-real-devices/"},"link")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://images.viblo.asia/8915c299-098f-4f94-a9a4-cbdf450e371b.jpg",alt:null}))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u0110\u1ed1i v\u1edbi thi\u1ebft b\u1ecb th\u1eadt th\xec ta c\u1ea7n th\xeam UUID, c\xf3 th\u1ec3 xem c\xe1ch t\xecm UUID t\u1ea1i ",(0,r.kt)("a",{parentName:"p",href:"https://www.idownloadblog.com/2018/11/20/how-to-find-udid-iphone-xs-max-xr/"},"\u0111\xe2y"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"capabilities")," c\u1ee7a Android"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u0110\u1ec3 l\u1ea5y ",(0,r.kt)("inlineCode",{parentName:"p"},"deviceName"),", h\xe3y ch\u1ea1y ",(0,r.kt)("inlineCode",{parentName:"p"},"adb devices"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"com.learnrne2etest")," v\xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},".MainActivity")," c\xf3 th\u1ec3 l\u1ea5y t\u1eeb ",(0,r.kt)("inlineCode",{parentName:"p"},"android/app/src/main/AndroidManifest.xml")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<manifest package="com.learnrne2etest">\n    \x3c!-- ... --\x3e\n    <activity android:name=".MainActivity">\n       \x3c!-- ... --\x3e\n    </activity>\n</manifest>\n')),(0,r.kt)("p",{parentName:"li"},"Ho\u1eb7c tham kh\u1ea3o b\xe0i sau ",(0,r.kt)("a",{parentName:"p",href:"http://www.automationtestinghub.com/apppackage-and-appactivity-name/"},"link")))))),(0,r.kt)("p",null,"C\u01b0\u1ee1i ng\u1ef1a xem hoa nh\u01b0 v\u1eady \u0111\u1ee7 r\u1ed3i, ch\xfang ta h\xe3y c\xf9ng t\xecm hi\u1ec3u th\xeam v\u1ec1 c\xe1ch ho\u1ea1t \u0111\u1ed9ng c\u1ee7a Appium"),(0,r.kt)("h1",{id:"3-ki\u1ebfn-tr\xfac-flow-c\u1ee7a-appium"},"3. Ki\u1ebfn tr\xfac, flow c\u1ee7a Appium"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://images.viblo.asia/d5fa4bea-70c4-4bfa-9d89-03aac8d9a92c.jpg",alt:null})),(0,r.kt)("p",null,"Appium d\u1ef1a tr\xean ki\u1ebfn tr\xfac client-server, b\u1ea3n th\xe2n Appium l\xe0 1 server, c\xf3 th\u1ec3 d\u1ec5 d\xe0ng nh\u1eadn th\u1ea5y \u0111i\u1ec1u n\xe0y \u1edf \u0111o\u1ea1n config."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'const iOS: RemoteOptions = {\n  path: "/wd/hub",\n  host: "localhost",\n  port: 4723,\n  // ...\n};\n')),(0,r.kt)("h4",{id:"31-test-library--webdriver-client"},"3.1. Test library + WebDriver client"),(0,r.kt)("p",null,"Khi vi\u1ebft test, ta s\u1ebd d\xe0nh ph\u1ea7n l\u1edbn th\u1eddi gian \u0111\u1ec3 l\xe0m vi\u1ec7c v\u1edbi ch\xfang, nh\u01b0 v\xed d\u1ee5 \u1edf ph\u1ea7n 2, ta \u0111\xe3 s\u1eed d\u1ee5ng Jest (v\u1edbi c\xe1c c\xe2u l\u1ec7nh ",(0,r.kt)("inlineCode",{parentName:"p"},"it"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"describe"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"afterEach"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"afterAll"),") l\xe0 c\xf4ng c\u1ee5 \u0111\u1ec3 ch\u1ea1y test, v\xe0 WebdriverIO (v\u1edbi ",(0,r.kt)("inlineCode",{parentName:"p"},"$"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"click()"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"setValue(value)"),") \u0111\u1ec3 giao ti\u1ebfp v\u1edbi Appium server."),(0,r.kt)("p",null,"Ngo\xe0i b\u1ed9 \u0111\xf4i n\xe0y, ch\xfang ta c\xf3 th\u1ec3 s\u1eed d\u1ee5ng b\u1ea5t c\u1ee9 ng\xf4n ng\u1eef n\xe0o m\xe0 ta th\xedch (mi\u1ec5n l\xe0 Appium n\xf3 support :v), t\u1eeb Ruby, Python cho \u0111\u1ebfn PHP, C#, c\xf3 th\u1ec3 xem list t\u1ea1i ",(0,r.kt)("a",{parentName:"p",href:"http://appium.io/docs/en/about-appium/appium-clients/index.html"},"\u0111\xe2y")),(0,r.kt)("p",null,"Nh\u01b0ng m\xe0 m\xecnh recommend combo sau:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Ng\xf4n ng\u1eef: JS/TS th\xe2n thi\u1ec7n v\u1edbi React Native dev")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"WebDriver client: ",(0,r.kt)("a",{parentName:"p",href:"https://webdriver.io/"},"WebdriverIO")," v\xec trong \u0111\xe1m client, th\u1eb1ng n\xe0y nhi\u1ec1u star tr\xean github nh\u1ea5t =))"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Test library: ",(0,r.kt)("a",{parentName:"li",href:"https://jasmine.github.io/index.html"},"jasmine"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"V\xec n\xf3 c\xf3 c\xfa ph\xe1p gi\u1ed1ng Jest, m\xe0 anh em code React Native th\xec qu\xe1 quen thu\u1ed9c v\u1edbi Jest r\u1ed3i"),(0,r.kt)("li",{parentName:"ul"},"L\xe0 1 trong 3 test framework \u0111\u01b0\u1ee3c WebdriverIO support s\u1eb5n \u0111\u1ec3 go pro =)) (ngo\xe0i ra c\xf2n c\xf3 mocha v\xe0 cucumber), d\xf9ng Jest n\u1ebfu l\u1ed7i th\xec ph\u1ea3i t\u1ef1 m\xe0y m\xf2 th\xf4i :v")))),(0,r.kt)("p",null,"Nh\u01b0 \u0111\xe3 n\xf3i \u1edf tr\xean, Appium \xe1p d\u1ee5ng ki\u1ebfn tr\xfac client-server. Khi ta vi\u1ebft nh\u1eefng c\xe2u l\u1ec7nh sau"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},'// ./__tests__/sign-up.spec.ts\nawait passwordConfirmationInput.setValue("password123");\n')),(0,r.kt)("p",null,"n\u1ebfu \u0111\u1ec3 \xfd log ta c\xf3 th\u1ec3 th\u1ea5y nh\u1eefng d\xf2ng log d\u01b0\u1edbi \u0111\xe2y, webdriverio ch\u1ec9 \u0111\u01a1n thu\u1ea7n g\u1eedi 1 HTTP request t\u1edbi server, server l\xe0m g\xec th\xec ch\xfang ta s\u1ebd t\xecm hi\u1ec3u sau :v"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"iOS")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'[HTTP] --\x3e POST /wd/hub/session/b891507e-4d84-4e62-a5b2-e9110c529c9e/element/6F000000-0000-0000-E00E-000000000000/value\n[HTTP] {"text":"password123"}\n[debug] [W3C (b891507e)] Calling AppiumDriver.setValue() with args: ["password123","6F000000-0000-0000-E00E-000000000000","b891507e-4d84-4e62-a5b2-e9110c529c9e"]\n[debug] [XCUITest] Executing command \'setValue\'\n[debug] [WD Proxy] Matched \'/element/6F000000-0000-0000-E00E-000000000000/value\' to command name \'setValue\'\n[debug] [Protocol Converter] Added \'text\' property "password123" to \'setValue\' request body\n[debug] [WD Proxy] Proxying [POST /element/6F000000-0000-0000-E00E-000000000000/value] to [POST http://127.0.0.1:8100/session/01BFCDD1-27D7-4904-A95A-C75086994546/element/6F000000-0000-0000-E00E-000000000000/value] with body: {"value":["p","a","s","s","w","o","r","d","1","2","3"],"text":"password123"}\n[debug] [WD Proxy] Got response with status 200: {"value":null,"sessionId":"01BFCDD1-27D7-4904-A95A-C75086994546"}\n[debug] [W3C (b891507e)] Responding to client with driver.setValue() result: null\n[HTTP] <-- POST /wd/hub/session/b891507e-4d84-4e62-a5b2-e9110c529c9e/element/6F000000-0000-0000-E00E-000000000000/value 200 821 ms - 14\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Android")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"console.info\n  2020-12-31T02:12:23.288Z INFO webdriver: COMMAND findElement(\"accessibility id\", \"login/toRegistrationScreenButton\")\n\n    at node_modules/@wdio/logger/build/node.js:76:9\n\nconsole.info\n  2020-12-31T02:12:23.289Z INFO webdriver: [POST] http://localhost:4723/wd/hub/session/7fc4b801-deae-49dc-947d-292d67ba5467/element\n\n    at node_modules/@wdio/logger/build/node.js:76:9\n\nconsole.info\n  2020-12-31T02:12:23.289Z INFO webdriver: DATA {\n    using: 'accessibility id',\n    value: 'login/toRegistrationScreenButton'\n  }\n\n    at node_modules/@wdio/logger/build/node.js:76:9\n\nconsole.info\n  2020-12-31T02:12:23.414Z INFO webdriver: RESULT {\n    'element-6066-11e4-a52e-4f735466cecf': 'bb82f194-16d1-4ba0-a520-33f47e117211',\n    ELEMENT: 'bb82f194-16d1-4ba0-a520-33f47e117211'\n  }\n\n    at node_modules/@wdio/logger/build/node.js:76:9\n")),(0,r.kt)("h4",{id:"32-appium-server-automation-tool-devices"},"3.2. Appium server, Automation tool, Devices"),(0,r.kt)("p",null,"\u0110\xe2y l\xe0 ph\u1ea7n x\u01b0\u01a1ng s\u1ed1ng trong ki\u1ebfn tr\xfac c\u1ee7a Appium, n\xf3 \u0111\u1ea3m nh\u1eadn vi\u1ec7c handle request t\u1eeb client, giao ti\u1ebfp v\u1edbi native automation tool \u0111\u1ec3 th\u1ef1c thi nh\u1eefng command m\xe0 ta c\u1ea7n."),(0,r.kt)("p",null,"Appium server expose ra API theo chu\u1ea9n JSON Wire Protocol (WebDriver Protocol). Tu\u1ef3 v\xe0o target l\xe0 iOS hay Android, n\xf3 s\u1ebd c\xf3 c\xe1ch ho\u1ea1t \u0111\u1ed9ng ri\xeang \u0111\u1ec3 ph\xf9 h\u1ee3p v\u1edbi n\u1ec1n t\u1ea3ng \u0111\xf3."),(0,r.kt)("h5",{id:"321-appium-meets-ios"},"3.2.1. Appium meets iOS"),(0,r.kt)("p",null,"Quay tr\u1edf l\u1ea1i \u0111o\u1ea1n log \u1edf ph\u1ea7n 3.1, n\xf3 \u0111\xe3 \xedt nhi\u1ec1u g\u1ee3i \xfd cho ta c\xe1ch ho\u1ea1t \u0111\u1ed9ng c\u1ee7a Appium"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"[HTTP] --\x3e POST /wd/hub/session/b891507e-4d84-4e62-a5b2-e9110c529c9e/element/6F000000-0000-0000-E00E-000000000000/value\n[debug] [WD Proxy] Proxying [POST /element/6F000000-0000-0000-E00E-000000000000/value] to [POST http://127.0.0.1:8100/session/01BFCDD1-27D7-4904-A95A-C75086994546/element/6F000000-0000-0000-E00E-000000000000/value]\n")),(0,r.kt)("p",null,"C\xf3 th\u1ec3 d\u1ec5 th\u1ea5y Appium server \u0111\u01a1n gi\u1ea3n ch\u1ec9 proxy request c\u1ee7a ta t\u1edbi 1 server kh\xe1c ch\u1ea1y \u1edf port 8100 ",(0,r.kt)("inlineCode",{parentName:"p"},"http://127.0.0.1:8100"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"O\xe1t d\u1edd ph\u01b0\u1edbc? Th\u1eb1ng n\xe0o \u0111ang ch\u1ea1y \u1edf port 8100 v\u1eady?")),(0,r.kt)("p",null,"\u0110\xf3 l\xe0 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/facebookarchive/WebDriverAgent"},"WebDriverAgent server"),", ban \u0111\u1ea7u \u0111\u01b0\u1ee3c ph\xe1t tri\u1ec3n b\u1edfi \xf4ng l\u1edbn ",(0,r.kt)("strong",{parentName:"p"},"Facebook"),", appium \u0111\xe3 fork v\u1ec1 th\xeam m\u1eafm th\xeam mu\u1ed1i g\xec \u0111\xf3 v\xe0o."),(0,r.kt)("p",null,"WDA gi\xfap giao ti\u1ebfp v\u1edbi XCUITest \u0111\u1ec3 c\xf3 th\u1ec3 \u0111i\u1ec1u khi\u1ec3n device/simulator iOS t\u1eeb xa. B\u1ea3n th\xe2n n\xf3 c\u0169ng \u0111\xe3 support s\u1eb5n Webdriver Protocol, v\u1eady n\xean ch\u1eafc h\u1eb3n dev Appium \u0111\xe3 ngh\u0129 nh\u01b0 sau"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"T\u1ed9i g\xec m\xe0 ph\u1ea3i code l\u1ea1i, c\xf3 s\u1eb5n h\xe0ng ngon r\u1ed3i th\xec d\xf9ng lu\xf4n th\xf4i =))")),(0,r.kt)("p",null,"WDA l\xe0m g\xec v\u1edbi device th\xec m\xecnh xin skip, v\xec c\u0169ng ko bi\u1ebft =)) C\xe1c b\u1ea1n c\xf3 th\u1ec3 t\u1ef1 m\xecnh t\xecm hi\u1ec3u s\xe2u h\u01a1n n\u1ebfu c\xf3 h\u1ee9ng th\xfa v\u1edbi n\xf3."),(0,r.kt)("h5",{id:"322-appium-meets-android"},"3.2.2. Appium meets Android"),(0,r.kt)("p",null,"V\u1edbi Android, ta c\xf3 \xedt g\u1ee3i \xfd h\u01a1n"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"2020-12-31T02:12:23.289Z INFO webdriver: [POST] http://localhost:4723/wd/hub/session/7fc4b801-deae-49dc-947d-292d67ba5467/element\n2020-12-31T02:12:23.414Z INFO webdriver: RESULT {\n  'element-6066-11e4-a52e-4f735466cecf': 'bb82f194-16d1-4ba0-a520-33f47e117211',\n  ELEMENT: 'bb82f194-16d1-4ba0-a520-33f47e117211'\n}\n")),(0,r.kt)("p",null,"Kh\xf4ng th\u1ea5y proxy g\xec \u0111\xf3 ph\u1ea3i kh\xf4ng n\xe0o? \u0110\xfang v\u1eady, v\xec n\xf3 c\xf3 proxy \u0111\xe2u :v"),(0,r.kt)("p",null,"\u1ede version m\u1edbi nh\u1ea5t, Appium s\u1eed d\u1ee5ng ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/appium/appium-android-driver"},"appium-android-driver")," \u0111\u1ec3 giao ti\u1ebfp v\u1edbi UIAutomator2. V\u1eady giao ti\u1ebfp th\u1ebf n\xe0o?"),(0,r.kt)("p",null,"M\u1ed7i khi b\u1eaft \u0111\u1ea7u ch\u1ea1y test, Appium s\u1ebd c\xe0i app ",(0,r.kt)("strong",{parentName:"p"},"Appium Settings")," tr\xean device c\u1ee7a ta, th\u1eb1ng n\xe0y s\u1ebd m\u1edf port ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/appium/appium-android-driver/blob/19b949383e9e1300edd25982e33bb76689a001d2/lib/driver.js#L17"},"4724")," tr\xean device c\u1ee7a ta v\xe0 expose ra m\u1ed9t v\xe0i API h\u1ec7 th\u1ed1ng. Appium server ",(0,r.kt)("em",{parentName:"p"},"abc")," v\u1edbi app \u0111\xe3 c\xe0i tr\xean (qua HTTP), v\xe0 n\xf3 s\u1ebd ",(0,r.kt)("em",{parentName:"p"},"xyz")," v\u1edbi UIAutomator2 \u0111\u1ec3 th\u1ef1c hi\u1ec7n c\xe1c command."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://images.viblo.asia/0b1ef505-609d-4412-b9d6-65508df7358d.jpg",alt:null})),(0,r.kt)("h1",{id:"4-k\u1ebft-lu\u1eadn"},"4. K\u1ebft lu\u1eadn"),(0,r.kt)("p",null,"L\xe0 m\u1ed9t dev, ch\xfang ta kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee7 quan, l\u1ec7 thu\u1ed9c v\xe0o b\xean tester, m\xe0 h\xe3y t\u1ef1 m\xecnh ki\u1ec3m th\u1eed tr\u01b0\u1edbc khi chuy\u1ec3n qua cho h\u1ecd. Test ch\u1ea1y c\u01a1m l\xe0 m\u1ed9t c\xf4ng vi\u1ec7c nh\xe0m ch\xe1n, v\u1eady th\xec t\u1ea1i sao ch\xfang ta kh\xf4ng l\xe0m cho n\xf3 th\xfa v\u1ecb h\u01a1n b\u1eb1ng c\xe1ch automate n\xf3. Tuy s\u1ebd c\xf3 l\xfac c\u1ea7n m\u1ed9t s\u1ed1 th\u1ee7 thu\u1eadt, hay l\xe0 ph\u1ea3i d\xf9ng nhi\u1ec1u command kh\xe1 l\u1eb1ng nh\u1eb1ng ( nh\u01b0 c\xe1i datepicker ch\u1eb3ng h\u1ea1n =)) ), nh\u01b0ng m\u1ed9t khi ch\u1ea1y \u0111\u01b0\u1ee3c nh\u1ea5t \u0111\u1ecbnh n\xf3 s\u1ebd \u0111em l\u1ea1i cho c\xe1c b\u1ea1n m\u1ed9t c\u1ea3m gi\xe1c ph\xea nh\u01b0 con t\xea t\xea =))"),(0,r.kt)("p",null,"Code e2e c\u1ee7a b\xe0i vi\u1ebft ch\u1ec9 l\xe0 nh\u1eefng \u0111o\u1ea1n code t\u1ea1m b\u1ee3, c\xe1c b\u1ea1n mu\u1ed1n go pro c\xf3 th\u1ec3 tham kh\u1ea3o ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/webdriverio/appium-boilerplate"},"appium-boilerplate")," c\u1ee7a webdriverio v\u1ec1 c\xe1ch chia module, c\u0169ng nh\u01b0 setup project. N\u1ebfu c\xf3 th\u1eddi gian m\xecnh s\u1ebd vi\u1ebft th\xeam v\u1ec1 vi\u1ec7c refactor \u0111\u1ed1ng code t\u1ea1m b\u1ee3 tr\xean \u0111\u1ec3 go pro =)) Gi\u1edd th\xec xin t\u1ea1m bi\u1ec7t c\xe1c b\u1ea1n."))}s.isMDXComponent=!0}}]);