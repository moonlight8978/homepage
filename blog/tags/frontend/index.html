<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="moonlight8978's Blog Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="moonlight8978's Blog Blog Atom Feed"><title data-react-helmet="true">Posts tagged &quot;frontend&quot; | moonlight8978&#x27;s Blog</title><meta data-react-helmet="true" property="og:title" content="Posts tagged &quot;frontend&quot; | moonlight8978&#x27;s Blog"><meta data-react-helmet="true" name="description" content="Blog | Tagged &quot;frontend&quot;"><meta data-react-helmet="true" property="og:description" content="Blog | Tagged &quot;frontend&quot;"><meta data-react-helmet="true" property="og:url" content="https://moonlight8978.github.io/blog/tags/frontend"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="blog_tags_posts"><link data-react-helmet="true" rel="shortcut icon" href="https://avatars.githubusercontent.com/u/26299310?v=4"><link data-react-helmet="true" rel="canonical" href="https://moonlight8978.github.io/blog/tags/frontend"><link data-react-helmet="true" rel="alternate" href="https://moonlight8978.github.io/blog/tags/frontend" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://moonlight8978.github.io/blog/tags/frontend" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5f3c8191.css">
<link rel="preload" href="/assets/js/runtime~main.2e9fde40.js" as="script">
<link rel="preload" href="/assets/js/main.f5ae6226.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="moonlight8978" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="moonlight8978" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">My Site</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/intro">Programming notes</a><a class="navbar__item navbar__link" href="/books/intro">Book notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="moonlight8978" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="moonlight8978" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">My Site</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/intro">Programming notes</a></li><li class="menu__list-item"><a class="menu__link" href="/books/intro">Book notes</a></li><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper blog-tags-post-page"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_2ahu thin-scrollbar"><h3 class="sidebarItemTitle_2hhb">All posts</h3><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/cung-tim-hieu-ve-puma-ruby-on-rails">Cùng tìm hiểu về Puma (Ruby on Rails)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/cuoi-react-native-xem-appium-phan-1-cung-tim-hieu-cach-hoat-dong-cua-appium">Cưỡi React Native xem Appium (Phần 1 - Cùng tìm hiểu cách hoạt động của Appium)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/gioi-thieu-ve-kubernetes">Giới thiệu về Kubernetes</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/toi-uu-menh-de-where-mysql">Tối ưu mệnh đề WHERE (MySQL)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/cung-tim-hieu-ve-actiontext-trong-rails-6">Cùng tìm hiểu về ActionText trong Rails 6</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/cung-tim-hieu-ve-railway-oriented-programming">Cùng tìm hiểu về Railway Oriented Programming</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/mot-vai-mindset-khi-lam-viec-voi-react">Một vài mindset khi làm việc với React</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/cung-tim-hieu-ve-nguyen-tu-cua-the-gioi-front-end-phan-2-density-independent-pixel">Cùng tìm hiểu về nguyên tử của thế giới FrontEnd (Phần 2 - Density-independent Pixel)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/cung-tim-hieu-ve-nguyen-tu-cua-the-gioi-front-end-phan-1-pixel">Cùng tìm hiểu về nguyên tử của thế giới FrontEnd (Phần 1 - Pixel)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/tdd-bdd-noi-de-hon-lam">TDD/BDD - Nói dễ hơn làm</a></li></ul></div></div><main class="col col--7"><h1>2 posts tagged with &quot;frontend&quot;</h1><a href="/blog/tags">View All Tags</a><div class="margin-vert--xl"><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_GeHD"><a href="/blog/cung-tim-hieu-ve-nguyen-tu-cua-the-gioi-front-end-phan-2-density-independent-pixel">Cùng tìm hiểu về nguyên tử của thế giới FrontEnd (Phần 2 - Density-independent Pixel)</a></h2><div class="margin-vert--md"><time datetime="2018-11-25T00:00:00.000Z" class="blogPostDate_fNvV">November 25, 2018 · 9 min read</time></div><div class="avatar margin-vert--md"><a href="https://github.com/moonlight8978" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="Lê Sĩ Bích"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/moonlight8978" target="_blank" rel="noopener noreferrer">Lê Sĩ Bích</a></h4><small class="avatar__subtitle">Ruby on Rails/React Developer</small></div></div></header><div class="markdown"><p><a href="https://viblo.asia/p/cung-tim-hieu-ve-nguyen-tu-cua-the-gioi-front-end-phan-1-pixel-4P856PoOZY3" target="_blank" rel="noopener noreferrer">Ở kì trước</a>, ta đã cùng nhau tìm hiểu về Pixel của CSS, đó là 1 đơn vị độc lập, không bị phụ thuộc vào độ phân giải hay các thông số khác của màn hình. Đối với một loại màn hình (xét theo khoảng cách từ mắt tới màn hình), nó luôn là 1 hằng số không đổi. Điều đó đã giúp cho lập trình viên Web dễ thở hơn rất nhiều.</p><p>Ở Android cũng có một đơn vị giống như vậy, Google đặt tên cho nó là DP (hay DIP - Density Independent Pixel). Ngoài ra đơn vị này còn dùng trong React Native <a href="https://facebook.github.io/react-native/docs/height-and-width.html#fixed-dimensions" target="_blank" rel="noopener noreferrer">[link]</a></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-một-số-khái-niệm-cần-nhắc-lại"></a>2. Một số khái niệm cần nhắc lại<a class="hash-link" href="#2-một-số-khái-niệm-cần-nhắc-lại" title="Direct link to heading">#</a></h1><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="pixel-thiết-bị"></a>Pixel thiết bị:<a class="hash-link" href="#pixel-thiết-bị" title="Direct link to heading">#</a></h4><p>Là 1 điểm ảnh, nó phụ thuộc vào kích thước màn hình, và độ phân giải màn hình. Thông thường, 1px thiết bị trên các màn hình đều có giá trị khác nhau.</p><p>Pixel này là pixel vật lý của thiết bị khác hoàn toàn so với đơn vị px mà ta hay sử dụng trong CSS.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="độ-phân-giải-thiết-bị---resolution"></a>Độ phân giải thiết bị - Resolution:<a class="hash-link" href="#độ-phân-giải-thiết-bị---resolution" title="Direct link to heading">#</a></h4><p>Các bạn thường thấy màn hình có độ phân giải 4k, HD, FullHD, kèm theo nó là 2 con số có dạng P1xP2 phải không nào?</p><p>Những con số này thể hiện số pixel có trên màn hình, P1 là số pixel phân bố theo chiều dài, còn P2 là theo chiều rộng.</p><p><img src="https://images.viblo.asia/d4b0da95-f9d9-44ff-92e9-71931821321a.jpg"></p><p>(<em>ảnh chỉ mang tính chất minh họa, mình k phải seeder đâu nhá =))</em>)</p><p>TV trên có chiều dài 52.4 inch, có 3840px theo chiều ngang. 1px sẽ có giá trị</p><p><code>1px = 52.4 / 3840 = 0.01365 (inch)</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dpi-ppi"></a>DPI, PPI:<a class="hash-link" href="#dpi-ppi" title="Direct link to heading">#</a></h4><p>DPI - <strong>Dots Per Inch</strong>. PPI - <strong>Points Per Inch</strong></p><p>Chúng đều là số pixel/điểm ảnh có trên 1 inch độ dài vật lý của thiết bị, biểu thị mật độ pixel trên màn hình.</p><p>DPI thấp, 1px có kích thước lớn, hình ảnh có thể sẽ bị răng cưa, không sắc nét bằng DPI cao</p><p><img src="https://images.viblo.asia/1e74f9f2-8d4e-407c-9023-9f4d248598cf.jpg"></p><p>Lấy lại VD màn hình TV trên:</p><p><code>DPI = 3840 / 52.4 = 73.28 (pixels/inch)</code></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3-density-independent-pixels"></a>3. Density Independent Pixels<a class="hash-link" href="#3-density-independent-pixels" title="Direct link to heading">#</a></h1><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="31-đặt-vấn-đề"></a>3.1 Đặt vấn đề<a class="hash-link" href="#31-đặt-vấn-đề" title="Direct link to heading">#</a></h3><p>Các điện thoại Android có nhiều loại kích thước (phone, tablet, TV, ...), hơn nữa chúng lại còn có độ phân giải khác nhau, dẫn đến kích thước pixel luôn thay đổi, gây khó khăn cho nhà phát triển khi dựng giao diện.</p><p>Lấy ví dụ đơn giản nhất về 2 điện thoại có cùng kích thước đường chéo 5inch, nhưng 1 chiếc FullHD 1080x1920, 1 chiếc 4K 2160 x 3840.</p><p>Nếu bạn là dev, bạn sẽ muốn 1 button trong app của mình hiển thị trên 2 điện thoại này giống nhau phải không nào?</p><p>Thế nhưng nếu làm việc với px thiết bị, ta sẽ gặp 1 chút rắc rối vì với cùng 1 kích thước, điện thoại 4K luôn cần gấp đôi số px so với FullHD.</p><p><img src="https://images.viblo.asia/4b56fc09-40ee-4f95-b7fc-8409b2961e99.jpg"></p><p>2 cái đã mệt, trên thực tế, ta có ty tỷ loại màn hình, vậy thì style sao cho xuể, chưa kể còn đến tối ưu các file ảnh cho app.</p><p>Chính vì vậy, <code>dp</code> ra đời.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="32-dp"></a>3.2. DP<a class="hash-link" href="#32-dp" title="Direct link to heading">#</a></h3><p>Google định nghĩa nó như sau:</p><blockquote><p>One dp is a virtual pixel unit that&#x27;s roughly equal to one pixel on a medium-density screen (160dpi; the &quot;baseline&quot; density). Android translates this value to the appropriate number of real pixels for each other density.</p></blockquote><p>Nếu bạn đã đọc bài trước của mình về CSS pixel, thì có thể thấy nó khá quen thuộc phải không nào, đây cũng là 1 <em>virtual unit</em>.</p><p><strong>1dp tương đương 1 px trên màn hình 160dpi</strong>. Có nghĩa là <code>1dp = 1 / 160 = 0.00625 (inch) = 1px (160dpi)</code></p><p>Để quy đổi <code>dp</code> sang <code>px</code> trên các loại màn hình khác, ta nhân dp với 1 số, gọi là scale factor (tỉ lệ DPI của màn hình so với chuẩn 160dpi).</p><p>Ví dụ máy 320dpi. <code>1dp = 1 * 320 / 160 = 2px</code></p><p>Android sẽ tự động convert sang pixel thiết bị cho ta, nên ta chỉ cần dùng <code>dp</code> là trên mọi thiết bị, phần tử của ta sẽ đều có kích thước bằng nhau (ngoại lệ sẽ đề cập sau).</p><p>Khi ta dựng UI, nên tận dụng tối đa <code>dp</code>, tránh sử dụng <code>px</code>.</p><p>Bên cạnh đó, Google cũng khuyên ta không nên sử dụng <code>dp</code> cho text, mà hãy dùng <code>sp</code>. Đây cũng là một loại density-independent, nhưng nó có thể bị ảnh hưởng bởi tùy chọn của người dùng. Người dùng chọn cỡ chữ to, thì 1sp cũng lớn lên theo. Vì vậy, cũng tránh dùng <code>sp</code> khi thiết kế layout.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="33-density-bucket"></a>3.3 Density Bucket<a class="hash-link" href="#33-density-bucket" title="Direct link to heading">#</a></h3><p><code>dp</code> ra đời, nhưng cũng chưa giải quyết được hết các vấn đề. Đó chính là về resource hình ảnh. Style cho ảnh thì có thể sử dụng dp được (ảnh sẽ bị kéo to, hoặc co lại cho đủ size cần thiết), nhưng resource thì đâu có thể to nhỏ tùy ý được, thông số của nó luôn là cố định.</p><p>Lấy ví dụ về 1 hình ảnh 500x500px (resolution), với 2 màn hình có kích thước bằng nhau, nhưng khác độ phân giải (khác DPI), 1 chiếc là 360x640, 1 chiếc là 720x1280.</p><p>Hình ảnh trên nếu hiển thị trên màn hình 360x640 thì chẳng phải sẽ dư thừa sao? Vì chiều rộng màn hình chỉ có 360px. Còn trên màn hình 720x1280, thì nó chả đáng là bao. Vì vậy ta cần sử dụng hình ảnh có độ phân giải thấp hơn cho màn hình 360x640.</p><p>Nhưng không lẽ cứ mỗi độ phân giải lại tạo 1 hình ảnh tương ứng? Vậy thì app size của ta sẽ bùng nổ luôn.</p><p>Vì lẽ đó mà ra đời <code>density bucket</code>.</p><p>Để cho đơn giản, các loại màn hình có DPI gần bằng nhau sẽ được làm tròn rồi gom vào 1 nhóm. Ví dụ như máy 293dpi, Android sẽ coi như máy đó là 320dpi, khi đó 1dp = 2px. Còn nhiều loại khác nữa, nhưng mình chỉ nêu ra 4 bucket đáng chú ý, best practice là support cả 4 bucket này.</p><table><thead><tr><th>Bucket name</th><th>Density bucket</th><th>DPI</th><th>Scale Factor</th></tr></thead><tbody><tr><td>Medium</td><td>mdpi</td><td>160</td><td>1.00</td></tr><tr><td>High</td><td>hdpi</td><td>240</td><td>1.50</td></tr><tr><td>Extra High</td><td>xhdpi</td><td>320</td><td>2.00</td></tr><tr><td>Extra Extra High</td><td>xxhdpi</td><td>480</td><td>3.00</td></tr></tbody></table><p>Những gì bạn cần làm là ném hết hình ảnh của các bucket vào thư mục tương ứng. Android sẽ tự detect và chọn hình ảnh tối ưu nhất cho bạn (lấy từ DPI cao nhất về).</p><p><img src="https://images.viblo.asia/653192f1-8c27-469d-a007-1ac22681ea23.png"></p><p><img src="https://images.viblo.asia/d606e411-f5cc-4151-b13e-4b2dfd626097.png"></p><p>Cũng vì việc làm tròn DPI này, mà 1dp của ta trên các thiết bị có thể không bằng nhau, nhưng <strong>luôn xấp xỉ 1/160 = 0.00625 inch</strong></p><table><thead><tr><th>Density</th><th>Bucket</th><th>Scale factor</th><th>Physical Size (inch)</th></tr></thead><tbody><tr><td>293dpi</td><td>xhdpi - 320dpi</td><td>2</td><td>1 * 2 / 293 = 0.00686</td></tr><tr><td>320dpi</td><td>xhdpi</td><td>2</td><td>1 * 2 / 320 = 0.00625</td></tr><tr><td>330 dpi</td><td>xhdpi</td><td>2</td><td>1 * 2 / 330 = 0.00606</td></tr></tbody></table><p>Điều này cũng đem đến cho ta 1 lợi ích, đó là với các số máy density khác nhau, nhưng cùng độ phân giải, kích thước bề ngang của ta tính bằng dp đều bằng nhau. Lấy ví dụ 3 máy 720x1280, 1 máy 293 dpi, 1 máy 320 dpi, 1 máy 330 dpi.</p><table><thead><tr><th>Density</th><th>Width (without Density Bucket)</th><th>Width (with density bucket)</th></tr></thead><tbody><tr><td>293dpi</td><td>720 / (293 / 160) = 393dp</td><td>360dp</td></tr><tr><td>320dpi</td><td>720 / (320 / 160) = 360dp</td><td>360dp</td></tr><tr><td>330dpi</td><td>720 / (330 / 160) = 349dp</td><td>360dp</td></tr></tbody></table><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="4-ví-dụ"></a>4. Ví dụ<a class="hash-link" href="#4-ví-dụ" title="Direct link to heading">#</a></h1><p>Sau khi nhồi 1 đống lý thuyết vào đầu, ta hãy thử làm 1 bài tập nho nhỏ, để áp dụng chúng. Hãy thử tự tính toán thông số cho điện thoại của mình xem.</p><p>Điện thoại mình 5inch, độ phân giải 720x1280.</p><p>Ta dễ dàng tính toán được chiều dài và chiều rộng của máy, dựa vào định lý Pytago:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly tx"><div tabindex="0" class="prism-code language-tx codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">5**2 = (1280 * x)**2 + (720 * x)**2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">width = 720 * x = 2.4513 (inch)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">height = 1280 * x = 4.3579 (inch)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Từ đó ta có thể tính tất cả các thông số khác:</p><table><thead><tr><th>Thông số</th><th>Giá trị</th></tr></thead><tbody><tr><td>Device density</td><td>720 / 2.4513 = 294 dpi</td></tr><tr><td>Density bucket</td><td>xhdpi - 320dpi</td></tr><tr><td>Scale factor</td><td>320 / 160 = 2.00</td></tr><tr><td>Width</td><td>720 / 2 = 360dp</td></tr><tr><td>Height</td><td>1280 / 2 = 640dp</td></tr><tr><td>DIP</td><td>1dp = 2px = 0.0068 (inch)</td></tr></tbody></table><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="5-kết-luận"></a>5. Kết luận<a class="hash-link" href="#5-kết-luận" title="Direct link to heading">#</a></h1><p>Sự ra đời của <code>dp</code> và <code>density bucket</code> quả thực đã giúp ta tránh được không ít rắc rối trong khi phát triển ứng dụng Android, tối ưu hình ảnh cho app. Bài viết không tránh khỏi sai sót, nếu có sạn, hãy cứ góp ý, mình sẽ tiếp thu và chỉnh sửa cho phù hợp.</p><p>Đây có lẽ là bài cuối của mình trong series về những thứ bé nhỏ mà ít ai để ý trong khi thiết kế giao diện Web, mobile. Cám ơn mọi người đã đọc bài! - nếu các bạn đọc đến tận dòng này =))</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="6-link-tham-khảo"></a>6. Link tham khảo<a class="hash-link" href="#6-link-tham-khảo" title="Direct link to heading">#</a></h1><ol><li><a href="https://developer.android.com/training/multiscreen/screendensities" target="_blank" rel="noopener noreferrer">https://developer.android.com/training/multiscreen/screendensities</a></li><li><a href="https://www.highgroundgaming.com/tas/gaming-mouse-guide/low-vs-high-dpi-example/" target="_blank" rel="noopener noreferrer">https://www.highgroundgaming.com/tas/gaming-mouse-guide/low-vs-high-dpi-example/</a></li><li><a href="https://facebook.github.io/react-native/docs/height-and-width.html#fixed-dimensions" target="_blank" rel="noopener noreferrer">https://facebook.github.io/react-native/docs/height-and-width.html#fixed-dimensions</a></li><li><a href="https://www.avconcepts.com/2015/09/24/4k-ultra-hd-vs-hd-projection/" target="_blank" rel="noopener noreferrer">https://www.avconcepts.com/2015/09/24/4k-ultra-hd-vs-hd-projection/</a></li><li><a href="https://www.captechconsulting.com/blogs/understanding-density-independence-in-android" target="_blank" rel="noopener noreferrer">https://www.captechconsulting.com/blogs/understanding-density-independence-in-android</a></li><li><a href="https://medium.com/@sashaserg/a-mysterious-density-independent-pixel-a-quick-introduction-to-android-design-111d68be7cf5" target="_blank" rel="noopener noreferrer">https://medium.com/@sashaserg/a-mysterious-density-independent-pixel-a-quick-introduction-to-android-design-111d68be7cf5</a></li></ol></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/frontend">frontend</a><a class="margin-horiz--sm" href="/blog/tags/android">android</a></div><div class="col text--right"><a aria-label="Read more about Cùng tìm hiểu về nguyên tử của thế giới FrontEnd (Phần 2 - Density-independent Pixel)" href="/blog/cung-tim-hieu-ve-nguyen-tu-cua-the-gioi-front-end-phan-2-density-independent-pixel"><strong>Read More</strong></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="margin-bottom--sm blogPostTitle_GeHD"><a href="/blog/cung-tim-hieu-ve-nguyen-tu-cua-the-gioi-front-end-phan-1-pixel">Cùng tìm hiểu về nguyên tử của thế giới FrontEnd (Phần 1 - Pixel)</a></h2><div class="margin-vert--md"><time datetime="2018-10-27T00:00:00.000Z" class="blogPostDate_fNvV">October 27, 2018 · 7 min read</time></div><div class="avatar margin-vert--md"><a href="https://github.com/moonlight8978" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="Lê Sĩ Bích"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/moonlight8978" target="_blank" rel="noopener noreferrer">Lê Sĩ Bích</a></h4><small class="avatar__subtitle">Ruby on Rails/React Developer</small></div></div></header><div class="markdown"><p><img src="https://images.viblo.asia/356f907a-e15f-4de7-a14c-e60c6553537b.png"></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-mở-đầu"></a>1. Mở đầu<a class="hash-link" href="#1-mở-đầu" title="Direct link to heading">#</a></h1><p>Nếu là một nhà phát triển ứng dụng Web hay Android, thì chắc hẳn bạn đã dùng các đơn vị độ dài như <code>px</code>, <code>dp</code> để tạo style cho các phần tử trên giao diện.</p><p>Có lẽ nhiều người sẽ nghĩ rằng: Màn hình mình FullHD, độ phân giải 1920x1080, thì cứ 1920px mà vã vào css thôi, nghĩ ngợi làm gì nhiều. Nhưng liệu có thật là như vậy không? Chúng ta hãy cùng tìm hiểu</p><p>TL;DR</p><blockquote><p>1px = 1/96 inch</p><p>1dp = 1/160 inch</p></blockquote><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-pixel---nguyên-tử-của-thế-giới-web"></a>2. Pixel - nguyên tử của thế giới Web<a class="hash-link" href="#2-pixel---nguyên-tử-của-thế-giới-web" title="Direct link to heading">#</a></h1><p><strong>Lưu ý:</strong>
Trước tiên, ta cần phải làm rõ 1 điều: 1px của CSS khác với 1px của thiết bị (độ phân giải). 1px CSS có thể tương ứng với 1 hoặc nhiều px của thiết bị.</p><p>Có rất nhiều loại màn hình, độ phân giải, kích thước khác nhau. Nó làm khó lập trình viên trong việc dựng giao diện, được màn hình này thì lại hỏng màn hình kia. Vì vậy w3 đã quy ước 1 đơn vị chuẩn, dùng cho mọi thiết bị: <strong>px</strong>.</p><p>Định nghĩa trên <a href="https://www.w3.org/TR/css-values-4/#px" target="_blank" rel="noopener noreferrer">w3</a></p><blockquote><p>1px = 1/96th of 1in</p></blockquote><p>Tuy nhiên, khi nhìn xuống dưới một chút, ta có thể thấy thêm</p><blockquote><p>For a CSS device, these dimensions are anchored either:</p><p>​ i. by relating the physical units to their physical measurements, or</p><p>​ ii. by relating the pixel unit to the reference pixel.</p></blockquote><p>Nhìn sơ qua thì khá là khó hiểu, nhưng ta có thể hình dung được 1 điều, pixel có thể được tính toán theo 2 cách.</p><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="21-by-relating-the-physical-units-to-their-physical-measurements"></a>2.1 By relating the physical units to their physical measurements<a class="hash-link" href="#21-by-relating-the-physical-units-to-their-physical-measurements" title="Direct link to heading">#</a></h6><p>Ý đầu là dành cho các thiết bị đòi hỏi độ chính xác cao về độ dài, ví dụ như máy in. Ta phải sử dụng các đơn vị <code>inch</code>, <code>cm</code>, ... đúng như độ dài thực tế của chúng. Khi đó, <code>1px</code> sẽ tương đương <strong>0.267mm</strong> (25.6/96). Ta sẽ không đề cập đến những loại thiết bị này trong bài.</p><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="22-by-relating-the-pixel-unit-to-the-reference-pixel"></a>2.2 By relating the pixel unit to the reference pixel<a class="hash-link" href="#22-by-relating-the-pixel-unit-to-the-reference-pixel" title="Direct link to heading">#</a></h6><p>Đối với các thiết bị trình chiếu (bất kể độ phân giải, màn hình Retina hay thứ gì thần thánh khác), các thiết bị mà có khoảng cách nhìn bất thường, <strong>px</strong> sẽ là đơn vị để tính ra <code>inch</code>, <code>cm</code>, ...</p><p>Và w3 khuyên rằng, nên sử dụng <strong>reference pixel</strong> để tính ra tỉ lệ quy đổi 1px CSS này với số pixel thiết bị (màn hình 4096 × 2160 có thể sẽ không còn là 4096px trong CSS nữa). Hay nói cách khác là tính xem 1px CSS bằng bao nhiêu.</p><p>Lại một đơn vị hại não nữa, và w3 định nghĩa nó như sau:</p><blockquote><p>The reference pixel is the visual angle of one pixel on a device with a pixel density of 96dpi and a distance from the reader of an arm’s length. For a nominal arm’s length of 28 inches, the visual angle is therefore about 0.0213 degrees. For reading at arm’s length, 1px thus corresponds to about 0.26 mm (1/96 inch).</p></blockquote><p>Như vậy, <code>reference pixel</code> là một <strong>visual angle</strong> của <strong>1px</strong> trên màn hình <strong>96dpi</strong>. Khoảng cách nhìn là 1 sải tay (khoảng 28in đối với người bình thường) - đây là khoảng cách ngồi PC thông thường.</p><p>Từ khái niệm này lại đẻ ra khái niệm khác :v Ta hãy bắt đầu với DPI</p><p><strong>DPI</strong> (Dots Per Inch): tương đương với PPI (Pixels Per Inch), nó cho ta biết 1inch màn hình thiết bị có bao nhiêu pixel thiết bị. 96dpi nghĩa là 1inch có 96 pixel. Như vậy 1px của màn hình 96dpi sẽ là 2.56 / 96 ~ <strong>0.26mm</strong></p><p>DPI càng lớn, màn hình hiển thị càng chi tiết. DPI được tính dựa trên kích thước thiết bị và độ phân giải của thiết bị.</p><p>VD màn hình công ty mình dùng là Dell P2319H, 23in (58,42cm), độ phân giải 1920x1080</p><p><img src="https://images.viblo.asia/c5529984-c033-4c36-abb1-9dd73be39f03.jpg"></p><p>Áp dụng Pytago: ta có</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(1920x)^2 + (1080x)^2 = 58.42^2 (cm^2)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Tính nhanh, ta được x = 0.0265cm. Như vậy, máy mình có chiều rộng là 1920x = 19.89in, và DPI = 1920 / 19.89 = 96.53</p><p><strong>Visual angle</strong> là góc v được biểu thị dưới hình sau:</p><p><img src="https://images.viblo.asia/835cce17-7a60-43d8-adc0-ead0a1d00de8.jpg"></p><p>Áp dụng vào, bấm máy tính:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">v = 2 x arctan((2.56/96) / (2x28x2.56)) =&gt; 0.0213 (độ)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Với reference pixel là <strong>0.0213 độ</strong>, khoảng cách nhìn <strong>28in</strong>, 1px CSS luôn có giá trị là <strong>0.26mm</strong>. Vì vậy giữa 2 màn hình PC cùng kích thước, nhưng có độ phân giải khác nhau (ví dụ 1 cái FullHD, 1 cái 4K), 1 element có width 10px sẽ luôn có kích thước vật lý bằng nhau (2.6mm).</p><p><img src="https://images.viblo.asia/4f52ddec-b90b-42f3-9556-b3cf12e6f4d8.png"></p><p>Với màn hình FullHD, 1px CSS sẽ ứng với 1px của thiết bị, còn với màn Retina căng đét, 1px CSS ứng với 2px thiết bị, nhưng kích thước thật của chúng đều là 0.26mm.</p><p>Khoảng cách tới màn hình càng cao, độ lớn của 1px càng tăng lên. Ở khoảng cách 3.5m, 1px có giá trị lên tới 1.3mm, và 1in lúc này khoảng 124.8mm (gấp gần 5 lần giá trị thực).</p><p><img src="https://images.viblo.asia/a666ffa1-d5ba-4e25-9f16-4231d6f0a08a.png"></p><p>Loanh quanh một hồi, ta vẫn chưa giải thích được vấn đề ban đầu: Ta có thể coi 1px trên màn hình PC là 1px CSS hay không?</p><p>Câu trả lời là có. Bởi vì màn hình PC, laptop hiện nay đa số đều có độ phân giải khoảng 96dpi, nên 1px thiết bị vừa đúng với 1px CSS.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3-pixel-trên-trình-duyệt-mobile"></a>3. Pixel trên trình duyệt Mobile<a class="hash-link" href="#3-pixel-trên-trình-duyệt-mobile" title="Direct link to heading">#</a></h1><p>Liệu các bạn có bao giờ thắc mắc: Màn hình điện thoại toàn HD 720x1280, FullHD 1080x1920, ... mà sao khi responsive lại phải sử dụng media query &lt; 576px?</p><p>Chắc hẳn các bạn đã tự có câu trả lời cho mình. Vì khi sử dụng <strong>reference pixel</strong>, 1px trên điện thoại sẽ không còn là 1px của CSS nữa.</p><p>Do DPI điện thoại cao chăng? Ví dụ điện thoại mình có DPI là 294, độ phân giải 720x1280, vậy thì 1px CSS (0.26mm) = 3px thiết bị (0.087mm). Vậy thì là 240x427?</p><p>Không, một phần đúng là do DPI, và 1 lý do nữa là vì ta cầm điện thoại gần hơn nhiều so với khoảng cách ngồi trước màn hình PC, Laptop (khoảng 18in)</p><p><img src="https://images.viblo.asia/ff59e444-6b0f-430e-85b2-b4afa3494ec9.jpg"></p><p>Áp dụng định lý Talet trong tam giác, ta tính được 1px CSS giờ chỉ còn:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">18 * 0.26 / 28 = 0.167mm</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Lại lấy điện thoại 5in, độ phân giải 720x1280 của mình, 1px = 0.087mm</p><p>Dễ thấy 1px CSS = 2px thiết bị. Vì thế màn hình rộng 720px của ta giờ chỉ còn 360px trong mắt CSS. Tỉ lệ 2:1 này, gọi là <code>devicePixelRatio</code></p><p>Con số này sẽ được nhà sản xuất tính toán và cung cấp khi sản xuất 1 thiết bị nào đó. Với Javascript, ta có thể dùng hàm sau để lấy được <code>devicePixelRatio</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">devicePixelRatio</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="4-kết-luận"></a>4. Kết luận<a class="hash-link" href="#4-kết-luận" title="Direct link to heading">#</a></h1><p>Thế giới Frontend khá hại não với các loại màn hình khác nhau, nên người ta đã phải quy ước 1 đơn vị chuẩn dùng cho mọi thiết bị trong cùng 1 khoảng cách nhìn. Điều này đã giúp anh em dev chúng ta dễ thở hơn nhiều.</p><p>Hy vọng bài viết này giúp mọi người hiểu thêm về đơn vị px mà mình vẫn sử dụng thường ngày.</p><p>Định viết thêm cả về <code>dp</code> trong Android mà cảm thấy bài dài quá rồi, có lẽ mình sẽ để kỳ tới, mong các bạn ủng hộ.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="5-tham-khảo"></a>5. Tham khảo<a class="hash-link" href="#5-tham-khảo" title="Direct link to heading">#</a></h1><ul><li><p><a href="https://www.w3.org/TR/css-values-4/#px" target="_blank" rel="noopener noreferrer">w3</a></p></li><li><p><a href="https://www.html5rocks.com/en/mobile/high-dpi/" target="_blank" rel="noopener noreferrer">html5rocks</a></p></li><li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio" target="_blank" rel="noopener noreferrer">Mozilla Docs</a></p></li><li><p>Hình ảnh thì lấy tùm lum quá mà quên lưu nguồn T.T</p></li></ul></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/frontend">frontend</a><a class="margin-horiz--sm" href="/blog/tags/css">css</a><a class="margin-horiz--sm" href="/blog/tags/html">html</a></div><div class="col text--right"><a aria-label="Read more about Cùng tìm hiểu về nguyên tử của thế giới FrontEnd (Phần 1 - Pixel)" href="/blog/cung-tim-hieu-ve-nguyen-tu-cua-the-gioi-front-end-phan-1-pixel"><strong>Read More</strong></a></div></footer></article></div></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Self notes</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/moonlight8978/moonlight8978.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://stackoverflow.com/users/8068639/moonlight8978" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 moonlight8978. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2e9fde40.js"></script>
<script src="/assets/js/main.f5ae6226.js"></script>
</body>
</html>