<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="moonlight8978's Blog Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="moonlight8978's Blog Blog Atom Feed"><title data-react-helmet="true">TDD/BDD - Nói dễ hơn làm | moonlight8978&#x27;s Blog</title><meta data-react-helmet="true" property="og:title" content="TDD/BDD - Nói dễ hơn làm | moonlight8978&#x27;s Blog"><meta data-react-helmet="true" name="description" content="Một vài lưu ý trước khi bắt đầu."><meta data-react-helmet="true" property="og:description" content="Một vài lưu ý trước khi bắt đầu."><meta data-react-helmet="true" property="og:url" content="https://moonlight8978.github.io/blog/tdd-bdd-noi-de-hon-lam"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="https://avatars.githubusercontent.com/u/26299310?v=4"><link data-react-helmet="true" rel="canonical" href="https://moonlight8978.github.io/blog/tdd-bdd-noi-de-hon-lam"><link data-react-helmet="true" rel="alternate" href="https://moonlight8978.github.io/blog/tdd-bdd-noi-de-hon-lam" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://moonlight8978.github.io/blog/tdd-bdd-noi-de-hon-lam" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5f3c8191.css">
<link rel="preload" href="/assets/js/runtime~main.9bf10215.js" as="script">
<link rel="preload" href="/assets/js/main.a4c2403e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="moonlight8978" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="moonlight8978" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">_MoonLight_</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/intro">Programming notes</a><a class="navbar__item navbar__link" href="/books/intro">Book notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="moonlight8978" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="moonlight8978" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">_MoonLight_</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/intro">Programming notes</a></li><li class="menu__list-item"><a class="menu__link" href="/books/intro">Book notes</a></li><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_2ahu thin-scrollbar"><h3 class="sidebarItemTitle_2hhb">All posts</h3><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/tim-hieu-ve-active-record-encryption">Tìm hiểu về Active Record Encryption</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/websocket-hoat-dong-nhu-the-nao">WebSocket hoạt động như thế nào?</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/cung-tim-hieu-ve-puma-ruby-on-rails">Cùng tìm hiểu về Puma (Ruby on Rails)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/cuoi-react-native-xem-appium-phan-1-cung-tim-hieu-cach-hoat-dong-cua-appium">Cưỡi React Native xem Appium (Phần 1 - Cùng tìm hiểu cách hoạt động của Appium)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/gioi-thieu-ve-kubernetes">Giới thiệu về Kubernetes</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/toi-uu-menh-de-where-mysql">Tối ưu mệnh đề WHERE (MySQL)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/cung-tim-hieu-ve-actiontext-trong-rails-6">Cùng tìm hiểu về ActionText trong Rails 6</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/cung-tim-hieu-ve-railway-oriented-programming">Cùng tìm hiểu về Railway Oriented Programming</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/mot-vai-mindset-khi-lam-viec-voi-react">Một vài mindset khi làm việc với React</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/cung-tim-hieu-ve-nguyen-tu-cua-the-gioi-front-end-phan-2-density-independent-pixel">Cùng tìm hiểu về nguyên tử của thế giới FrontEnd (Phần 2 - Density-independent Pixel)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/cung-tim-hieu-ve-nguyen-tu-cua-the-gioi-front-end-phan-1-pixel">Cùng tìm hiểu về nguyên tử của thế giới FrontEnd (Phần 1 - Pixel)</a></li><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/blog/tdd-bdd-noi-de-hon-lam">TDD/BDD - Nói dễ hơn làm</a></li></ul></div></div><main class="col col--7"><article><header><h1 class="margin-bottom--sm blogPostTitle_GeHD">TDD/BDD - Nói dễ hơn làm</h1><div class="margin-vert--md"><time datetime="2018-09-22T00:00:00.000Z" class="blogPostDate_fNvV">September 22, 2018 · 7 min read</time></div><div class="avatar margin-vert--md"><a href="https://github.com/moonlight8978" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="Lê Sĩ Bích"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/moonlight8978" target="_blank" rel="noopener noreferrer">Lê Sĩ Bích</a></h4><small class="avatar__subtitle">Ruby on Rails/React Developer</small></div></div></header><div class="markdown"><p>Một vài lưu ý trước khi bắt đầu.</p><ul><li>Code demo trong bài sẽ sử dụng rspec, capybara, factory_bot (Ruby/Rails), hướng tới đối tượng Web developer.</li><li>Bài viết không tránh khỏi thiếu sót, nếu có chỗ nào không đúng, mọi người cứ quăng gạch ở dưới comment :v</li></ul><p>Ông cha ta có câu &quot;Dục tốc bất đạt&quot;. Trước khi đi vào chi tiết, ta hãy cùng điểm qua một vài khái niệm trước.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-test-là-gì"></a>1. Test là gì?<a class="hash-link" href="#1-test-là-gì" title="Direct link to heading">#</a></h1><p>Nếu bạn là một developer, chắc hẳn sẽ không lạ lẫm gì khái niệm &quot;testing&quot;.</p><p>Ví dụ khi bạn lập trình chức năng đăng nhập của 1 trang web. Sau một hồi hì hục code, chắc hẳn bạn sẽ vào trang đó, tiến hành đăng nhập, rồi chờ xem code mình có chạy đúng hay không :v</p><p>Tuy nhiên giờ đây, đa số đều sử dụng các automated test script để tự động hóa quá trình test. Hơn thế, nó còn giúp những người maintainer sau này có thể hiểu <del>cái đống hổ lốn</del> code bạn để lại chạy như thế nào.</p><p>Test khác với Debug.</p><p>Các loại test nên chú ý:</p><ul><li>Unit test: test riêng lẻ từng class/function, viết khá dễ.</li><li>Integration test, Feature test: ở đây bắt đầu có sự kết hợp giữa nhiều module với nhau để mô tả 1 (hay nhiều) chức năng của ứng dụng.</li></ul><p>Màu sắc đặc trưng:</p><ul><li>Đỏ: xin chia buồn test của bạn đã tạch =))</li><li>Xanh: chúc mừng, test đã pass, code của bạn &quot;có thể&quot; đã chạy đúng.</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-tdd---test-driven-development"></a>2. TDD - Test Driven Development<a class="hash-link" href="#2-tdd---test-driven-development" title="Direct link to heading">#</a></h1><p>Dịch ra thì sẽ là <strong>Phát triển với trọng tâm là kiểm thử (test)</strong>, hay nôm na là test trước code sau.</p><p><img src="https://images.viblo.asia/bd25076f-2ddb-4b27-888e-d58ab8e8c286.png" alt="TDD"></p><ul><li><p>Trước tiên ta viết các test script và chạy chúng, tất nhiên là sẽ fail vì làm gì có code =))</p><p>VD ta muốn viết 1 hàm tính số Fibonacci:</p><p><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6693d2c78bc8132bb9b65be861148ca574a738ef" alt="Fibonacci"></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ruby"><div tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># spec/fibonacci_spec.rb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">describe &quot;#fibonacci_of&quot; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  context &quot;one&quot; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    it &quot;returns 1&quot; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      expect(fibonacci_of(1)).to eq 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  context &quot;two&quot; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    it &quot;returns 1&quot; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      expect(fibonacci_of(2)).to eq 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  context &quot;greater than two&quot; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    it &quot;returns sum of two elements before&quot; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      expect(fibonacci_of(4)).to eq 3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Rồi ta mới bắt tay vào code, chạy test, nếu fail thì lại hì hục sửa, hỏng đâu vá đó. Lúc này bạn chưa cần bận tâm về việc code mình có dễ hiểu/đẹp không.</p><p>Và sau 1 hồi thì cuối cùng test ta cũng pass :v</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ruby"><div tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># fibonacci.rb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">def fibonacci_of(n)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  case n</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  when 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  when 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fibonacci_of(n - 1) + fibonacci_of(n - 2)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Ta sẽ nhìn lại đống hổ lốn mà ta vừa viết ra, tỉa tót lại cho đẹp mắt, tách service các thứ. Và nhớ rằng đừng làm cho test đỏ lòm.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ruby"><div tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># fibonacci.rb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">def fibonacci_of(n)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  return 1 if [1, 2].include?(n)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  fibonacci_of(n - 1) + fibonacci_of(n - 2)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ul><p><strong>Lưu ý:</strong> Không phải cứ test pass là app của ta đã chạy đúng, việc này còn bao gồm nhiều yếu tố khác như</p><ul><li>Ta có hiểu đúng yêu cầu của khách hàng không</li><li>Test của ta đã bao gồm hết các trường hợp có thể chưa</li></ul><p>Có thể dễ dàng nhận thấy, hàm <code>#fibonacci_of</code> ở trên sẽ chết ngay lập tức nếu gặp tham số <code>&lt;= 0</code>.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3-bdd---behavior-driven-development"></a>3. BDD - Behavior Driven Development<a class="hash-link" href="#3-bdd---behavior-driven-development" title="Direct link to heading">#</a></h1><p><img src="http://blog.andolasoft.com/wp-content/uploads/2015/05/TDD-vs-BDD.jpg" alt="BDD"></p><p>Kế thừa người tiền nhiệm TDD với phương châm &quot;Test trước code sau&quot;, BDD chỉ khác chút là ta sẽ tập trung vào hành vi người dùng (feature).</p><p>Theo đó, ta sẽ viết các feature test trước (mô tả một tính năng của ứng dụng, hoặc usecase/userstory). Với mỗi feature test đó, ta có thể sẽ phải triển khai thêm 1 vài unit test/integration test cho các class/function cần thiết trong feature test.</p><p>Ví dụ: Ta muốn xây dựng tính năng tạo album cho ứng dụng quản lý album nhạc.</p><p>Trước hết hãy hình dung tính năng này trong đầu:</p><blockquote><p>Admin từ trang index albums (/albums), bấm nút &quot;Add album&quot;, 1 form sẽ hiện ra để nhập thông tin album (bao gồm title và artist name).</p><p>Nếu anh admin này nhập đúng, hãy redirect sang trang index và hiển thị album mới này, còn không thì hãy hiện lỗi để anh admin còn biết đường mà lần.</p></blockquote><p>Feature test của ta sẽ như sau:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ruby"><div tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># spec/features/create_album_spec.rb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">RSpec.feature &quot;album creating process&quot;, type: :feature do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  context &quot;all fields are filled correctly&quot; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    it &quot;create a new album&quot; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      visit &#x27;/albums&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      click_link &#x27;Add album&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      within &#x27;form#album_form&#x27; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fill_in &#x27;Title&#x27;, with: &#x27;Chay ngay di&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fill_in &#x27;Artist name&#x27;, with: &quot;Sep&#x27;ss&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      click_button &#x27;Create&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      expect(page).to have_content(&#x27;Chay ngay di&#x27;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  context &quot;title is blank&quot; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    it &quot;show errors&quot; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      visit &#x27;/albums&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      click_link &#x27;Add album&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      within &#x27;form#album_form&#x27; do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fill_in &#x27;Artist name&#x27;, with: &quot;Sep&#x27;ss&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      click_button &#x27;Create&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      expect(page).to have_content(&quot;Title can&#x27;t be blank&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Nếu làm theo đúng flow của Rails, ta sẽ phải viết unit test cho:</p><ul><li>Controller: index, create - test xem logic bên trong đã đúng chưa, status code ra sao.</li><li>View: new, index - test xem trường hợp có lỗi thì form hiển thị sao, hay trường hợp không có album thì view index có thông báo cho người dùng biết hay không.</li><li>Model: album - test xem validate có hoạt động hay không.</li></ul><p>Chi tiết thì mình xin lược bớt vì dài quá, bạn có thể tham khảo thêm ở <a href="http://hanamirb.org/guides/1.2/getting-started/" target="_blank" rel="noopener noreferrer">đây</a>.</p><p>Nếu bạn băn khoăn nên test cái gì trong Rails, có thể tham khảo bài <a href="https://m.patrikonrails.com/how-i-test-my-rails-applications-cf150e347a6b" target="_blank" rel="noopener noreferrer">này</a>.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3-các-nguyên-tắc-khi-viết-test-tdd"></a>3. Các nguyên tắc khi viết test (TDD)<a class="hash-link" href="#3-các-nguyên-tắc-khi-viết-test-tdd" title="Direct link to heading">#</a></h1><ol><li><p>Chỉ viết code khi nó cần thiết để test của bạn pass.</p><p>VD bạn viết một hàm lấy về email của người dùng theo <code>id</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ruby"><div tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">def get_user_mail_by_id(id)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  user = User.find(id)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  user.mail</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Ở đây bắt buộc phải truy vấn CSDL để tìm ra user. Không dùng <code>find</code> thì lấy thông tin user thế nào :v</p></li><li><p>Chỉ viết nên unit test trong phạm vi vừa đủ.</p></li></ol><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="4-ưu-điểm"></a>4. Ưu điểm<a class="hash-link" href="#4-ưu-điểm" title="Direct link to heading">#</a></h1><ul><li><p>Những người não to trên thế giới đã chứng minh được TDD giúp thay đổi mindset của bạn, và bạn sẽ trở thành những lập trình viên tốt hơn.</p><p>Nó đòi hỏi bạn phải thu tập trung hơn vào những chi tiết nhỏ để test của mình pass, hơn là suy nghĩ vẩn vơ về cả cái app to đùng.</p></li><li><p>Ngoài kiểm thử, test cũng là docs cho maintainer sau này, nó cung cấp chi tiết về các đặc tả kỹ thuật (specification) của app.</p></li><li><p>Ít bug hơn, dễ bảo trì, phát hiện lỗi sớm.</p></li><li><p>Cho bạn biết code mà bạn vừa viết xong nó làm hỏng cả app không =))</p></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="5-kết-luận"></a>5. Kết luận<a class="hash-link" href="#5-kết-luận" title="Direct link to heading">#</a></h1><ul><li><p>TDD/BDD thực sự rất tốt, nếu bạn muốn trở thành một lập trình viên tốt hơn, hãy cố gắng tryhard :v</p></li><li><p>Thường mọi người hay có xu hướng code xong mới viết test, và mình cũng là một trong số đó =)). Tuy vậy, hãy cố gắng viết test case của mình thật minh bạch, dễ hiểu, vì chính bản thân ta và các maintainer sau này.</p></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="6-tham-khảo"></a>6. Tham khảo<a class="hash-link" href="#6-tham-khảo" title="Direct link to heading">#</a></h1><ul><li><p><a href="https://medium.com/pacroy/test-driven-development-tdd-resource-site-tdd-pacroy-com-a02e02396f32" target="_blank" rel="noopener noreferrer">Test-Driven Development (TDD) Resource Site</a></p></li><li><p><a href="http://blog.andolasoft.com/2014/06/rails-things-you-must-know-about-tdd-and-bdd.html" target="_blank" rel="noopener noreferrer">Rails: Things you must know about TDD and BDD</a></p></li><li><p><a href="https://www.madetech.com/blog/9-benefits-of-test-driven-development" target="_blank" rel="noopener noreferrer">9 Benefits of Test Driven Development</a></p></li><li><p><a href="https://apiumhub.com/tech-blog-barcelona/advantages-of-test-driven-development/" target="_blank" rel="noopener noreferrer">20 ADVANTAGES OF TEST DRIVEN DEVELOPMENT</a></p></li><li><p><a href="http://hanamirb.org/guides/1.2/getting-started/" target="_blank" rel="noopener noreferrer">Hanami Official Guide</a></p></li><li><p><a href="https://m.patrikonrails.com/how-i-test-my-rails-applications-cf150e347a6b" target="_blank" rel="noopener noreferrer">How I test Rails applications</a></p></li></ul></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/tdd">tdd</a><a class="margin-horiz--sm" href="/blog/tags/bdd">bdd</a><a class="margin-horiz--sm" href="/blog/tags/testing">testing</a><a class="margin-horiz--sm" href="/blog/tags/ruby-on-rails">ruby-on-rails</a></div></footer></article><div><a href="https://github.com/moonlight8978/moonlight8978.github.io/edit/v2/blog/blog/2018-09-22-introduce-to-bdd.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/cung-tim-hieu-ve-nguyen-tu-cua-the-gioi-front-end-phan-1-pixel"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« Cùng tìm hiểu về nguyên tử của thế giới FrontEnd (Phần 1 - Pixel)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Self notes</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/moonlight8978/moonlight8978.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://stackoverflow.com/users/8068639/moonlight8978" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 moonlight8978. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9bf10215.js"></script>
<script src="/assets/js/main.a4c2403e.js"></script>
</body>
</html>