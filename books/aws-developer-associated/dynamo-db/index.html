<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="moonlight8978's Blog Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="moonlight8978's Blog Blog Atom Feed"><title data-react-helmet="true">DynamoDB | moonlight8978&#x27;s Blog</title><meta data-react-helmet="true" property="og:url" content="https://moonlight8978.github.io/books/aws-developer-associated/dynamo-db"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-books-current"><meta data-react-helmet="true" property="og:title" content="DynamoDB | moonlight8978&#x27;s Blog"><meta data-react-helmet="true" name="description" content="Overview"><meta data-react-helmet="true" property="og:description" content="Overview"><link data-react-helmet="true" rel="shortcut icon" href="https://avatars.githubusercontent.com/u/26299310?v=4"><link data-react-helmet="true" rel="canonical" href="https://moonlight8978.github.io/books/aws-developer-associated/dynamo-db"><link data-react-helmet="true" rel="alternate" href="https://moonlight8978.github.io/books/aws-developer-associated/dynamo-db" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://moonlight8978.github.io/books/aws-developer-associated/dynamo-db" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5f3c8191.css">
<link rel="preload" href="/assets/js/runtime~main.40b7a2b6.js" as="script">
<link rel="preload" href="/assets/js/main.e6ce383e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="moonlight8978" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="moonlight8978" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">_MoonLight_</strong></a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/intro">Programming notes</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/books/intro">Book notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="moonlight8978" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="https://avatars.githubusercontent.com/u/26299310?v=4" alt="moonlight8978" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">_MoonLight_</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/intro">Programming notes</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/books/intro">Book notes</a></li><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/books/intro">Intro</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">AWS Certified Developer - Associated</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/intro">Intro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/api-gateway">AWS API Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/auto-scaling-group">Auto Scaling Group</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/ci-cd">CI/CD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/cloud-formation">AWS CloudFormation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/cloud-front">AWS CloudFront</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/cloud-trail">AWS Cloud Trail</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/code-star">AWS CodeStar</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/cognito">AWS Cognito</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/books/aws-developer-associated/dynamo-db">DynamoDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/ec2">AWS EC2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/ecs">Elastic Container Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/elasti-cache">AWS Elasti Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/elastic-beanstalk">Elastic Beanstalk notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/elb">Elastic Load Balancer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/event-bridge">AWS EventBridge</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/iam">IAM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/kinesis">AWS Kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/kms">AWS KMS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/lambda">Lambda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/parameter-store">AWS SSM Parameter Store</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/rds">RDS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/route53">AWS Route 53</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/s3">AWS Simple Storage Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/sam">AWS Serverless Application Model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/secrets-manager">AWS Secrets Manager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/security-group">AWS Security Group</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/ses">AWS Simple Email Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/sns">AWS Simple Notification Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/sqs">Amazon SQS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/step-functions">AWS Step Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/vpc">AWS Virtual Private Cloud</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/books/aws-developer-associated/x-ray">AWS X-Ray</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Database</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/books/database/high-performance-mysql">High Performance MySQL</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">MySQL Docs - Optimization (Chapter 8)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/books/mysql-chap8/where">Tá»‘i Æ°u SELECT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/books/mysql-chap8/subquery">Optimize Subquery vá»›i Semijoin transformation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">World Wide Web</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/books/www/oauth2-in-action">OAuth2 in Action</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">DynamoDB</h1></header><div class="markdown"><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h4><ul><li>NoSQL, key-value and document database</li><li>Pay for capacity, no need to worry about infrastructure<ul><li>Read capacity: RCU</li><li>Write capacity: WCU</li></ul></li></ul><ul><li>All data is stored on SSD storage and is spread across 3 different AZs</li><li>No limit when set to On-Demand mode, can be switched to Provisioned, and vice-versa mode every 24 hour</li><li>Concept: Items (Rows) and Attributes (Columns)</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="read-consistency"></a>Read consistency<a class="hash-link" href="#read-consistency" title="Direct link to heading">#</a></h4><ul><li>Data is copied to 3 AZs =&gt; It is possible for data being inconsistent during copying</li></ul><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="eventual-consistent-reads-default"></a>Eventual Consistent Reads (DEFAULT)<a class="hash-link" href="#eventual-consistent-reads-default" title="Direct link to heading">#</a></h6><ul><li><p>When data is updated, it is possible to read and return an inconsistent copy</p></li><li><p>Read is fast but there is no guarantee of consistent</p></li><li><p>Copies of data will be generally consistent after 1 second</p></li></ul><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="strongly-consistent-reads"></a>Strongly Consistent Reads<a class="hash-link" href="#strongly-consistent-reads" title="Direct link to heading">#</a></h6><ul><li>When data is being updated, it will not return until all copies are consistent</li><li>Guarantee of consistent, but high latency (slower)</li><li>Copies of data will be consistent with a guarantee of 1 second</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dynamodb-partitions"></a>DynamoDB Partitions<a class="hash-link" href="#dynamodb-partitions" title="Direct link to heading">#</a></h4><ul><li><p>Partition is an allocation of storage for a table, automatically replicated across multiple AZs</p><ul><li>Slice table into smaller chunk of data (a partition)</li><li>Speeds up reads</li></ul></li><li><p>Automatically created as the growth of data</p></li><li><p>2 cases when a partition will be created</p><ul><li>Every 10GB of data</li><li>RCUs (3000) or WCUs (1000) is exceed for a single partition</li><li>When DynamoDB sees a pattern of a hot partition, it will split the partition to fix the issue</li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="data-type"></a>Data type<a class="hash-link" href="#data-type" title="Direct link to heading">#</a></h4><ul><li><p>Number</p></li><li><p>String</p></li><li><p>Binary</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="primary-keys"></a>Primary keys<a class="hash-link" href="#primary-keys" title="Direct link to heading">#</a></h4><ul><li><p>Determine <strong>how and where</strong> data will be stored in partition</p></li><li><p>Cannot be changed</p></li><li><p>Partition key: which partition should be written to, also known as Hash</p><p>Sort key: How data should be sorted on partition, also known as Range</p></li><li><p>Using only partition key: Simple primary key</p><p>Using both partition key and sort key: Composite Primary Key</p></li></ul><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="simple-primary-key"></a>Simple Primary Key<a class="hash-link" href="#simple-primary-key" title="Direct link to heading">#</a></h6><ul><li>Data (Partition Key + Value) =&gt; Internal Hash Function =&gt; Partition</li></ul><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="composite-primary-key"></a>Composite Primary Key<a class="hash-link" href="#composite-primary-key" title="Direct link to heading">#</a></h6><ul><li>Data (Partition Key + Sort key + Value) =&gt; Internal Hash Function =&gt; Partition</li><li>The combination must be unique</li><li>Same partition key =&gt; Same parition, sorted A-Z</li></ul><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="primary-key-design"></a>Primary Key Design<a class="hash-link" href="#primary-key-design" title="Direct link to heading">#</a></h6><ul><li>As distinct as posible</li><li>Should evenly divide data</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="query-and-scan"></a>Query and scan<a class="hash-link" href="#query-and-scan" title="Direct link to heading">#</a></h4><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="query"></a>Query<a class="hash-link" href="#query" title="Direct link to heading">#</a></h6><ul><li>Find items based on primary key value</li><li>Query any table or secondary index that has a composite primary key</li><li>Eventual Consistent Read by default (changable)</li><li>Returns all attributes by default (changable)</li><li>Sort ASC by default (changable)</li></ul><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="scan"></a>Scan<a class="hash-link" href="#scan" title="Direct link to heading">#</a></h6><ul><li>Scan through all items, then returns 1 or more items using filter</li><li>Return all attributes by default</li><li>Can be performed on tables or secondary indexes</li><li>Scan operations are sequential. Speed up scan through parallel scans using Segment and TotalSegments</li><li>Should be avoid when possible<ul><li>Query is much effecient</li><li>Take longer time as the growth of table</li><li>Single scan can burn all provisioned throughput</li></ul></li><li>DB should be design in such way that primary access pattern do not use scans</li><li>Scan should be needed sparingly, like infrequent report</li><li>One of the most expensive ways to access data in DynamoDB</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="provisioned-capacity"></a>Provisioned Capacity<a class="hash-link" href="#provisioned-capacity" title="Direct link to heading">#</a></h4><ul><li>Is the maximum amount of read/write operations per second from a table or index: RCUs, WCUs</li><li>Get <code>ProvisionedThroughputExceededException</code> when go beyond (throttling)<ul><li>Requests that are throttled will be dropped, result in data loss</li></ul></li></ul><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="on-demand"></a>On-demand<a class="hash-link" href="#on-demand" title="Direct link to heading">#</a></h6><ul><li>Pay for what you used</li><li>The throughput is limited by the default upper limit for a table: 40.000 RCUs/WCUs</li><li>There&#x27;s no hard limit imposed by the user</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="calculating-readwrite"></a>Calculating Read/Write<a class="hash-link" href="#calculating-readwrite" title="Direct link to heading">#</a></h4><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="rcus"></a>RCUs<a class="hash-link" href="#rcus" title="Direct link to heading">#</a></h6><ul><li><p>Represents:</p><ul><li>1 strongly consistent read per second, or 2 eventual consistent reads per second</li><li>for an item up to 4KB in size</li></ul></li><li><p>Example:</p><ul><li>10RCUs: 10 (1x10) SCRs or 20 (2x10) ECRs per seconds at 4 (4x1) KB (or less) per item</li></ul></li><li><p>Calculating:</p><table><thead><tr><th></th><th align="center">SCR</th><th align="center">ECR</th></tr></thead><tbody><tr><td>50 Reads at 40KB per item</td><td align="center">(40 / 4) * 50 = 500</td><td align="center">(40 / 4) * 50 / 2 = 250</td></tr><tr><td>10 Reads at 6KB per item</td><td align="center">(8 / 4) * 10 = 20</td><td align="center">(8 / 4) * 10 / 2 = 10</td></tr><tr><td>33 Reads at 17KB per item</td><td align="center">(20 / 4) * 33 = 165</td><td align="center">(20 / 4) * 33 / 2 = 82.5 ~ 83</td></tr></tbody></table></li></ul><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="wcus"></a>WCUs<a class="hash-link" href="#wcus" title="Direct link to heading">#</a></h6><ul><li>Represents:<ul><li>1 write per second</li><li>for an item up to 1KB</li></ul></li><li>Example: 10WCUs = 10 write per second at 1KB (or less) per item</li><li>Calculating:<ul><li>50 writes at 40KB per item: 50 * 40 = 2000 WCUs</li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="global-tables"></a>Global Tables<a class="hash-link" href="#global-tables" title="Direct link to heading">#</a></h4><ul><li>Multi-region, multi-master database</li><li>Requires:<ul><li>KMS CMK</li><li>Enable Streams</li><li>Stream Type of New and Old image</li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="transaction"></a>Transaction<a class="hash-link" href="#transaction" title="Direct link to heading">#</a></h4><ul><li>Using <code>TransactWriteItems</code>, and <code>TransactReadItems</code> allow for all-or-nothing changes to multiple items both within and across tables</li><li>DynamoDB performs 2 read and write of every item in the transaction (visible in CloudWatch metrics)<ol><li>one to prepare the transaction</li><li>one to commit the transaction</li></ol></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="time-to-live-ttl"></a>Time to live (TTL)<a class="hash-link" href="#time-to-live-ttl" title="Direct link to heading">#</a></h4><ul><li>TTL let the item in DynamoDB expire in the given time</li><li>Keep database small, manageable, suited for temporary continuous data<ul><li>Session data, event log, ...</li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dynamodb-streams"></a>DynamoDB Streams<a class="hash-link" href="#dynamodb-streams" title="Direct link to heading">#</a></h4><ul><li>Modification is captured and send to Lambda function<ul><li>Sent in batch</li><li>Near real-time</li><li>Stream records appear in the same sequence as the actual modifications</li></ul></li><li>Do not consume RCUs</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="errors"></a>Errors<a class="hash-link" href="#errors" title="Direct link to heading">#</a></h4><ul><li><code>ThrottlingException</code>: <code>CreateTable</code>, <code>UpdateTable</code>, and <code>DeleteTable</code> too rapidly</li><li><code>ProvisionedThroughputExceededException</code>:<ul><li>AWS SDK will retry automatically</li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dynamodb-indexes"></a>DynamoDB indexes<a class="hash-link" href="#dynamodb-indexes" title="Direct link to heading">#</a></h4><ul><li><p>2 types</p><ul><li>Global Secondary Index: GSI<ul><li>Cannot provide strong consistency</li><li>The query on the index can across all partitions of the table</li><li>No size restriction</li><li>Have their own throughput settings</li><li>Limit to 20 per table (default)</li><li>Can be added or deleted at anytime</li><li>The partition key should be different from the base table</li><li>The sort key is optional</li><li>Can only request the attributes that are projected to the index</li></ul></li><li>Local Secondary Index: LSI<ul><li>Can provide strong consistency</li><li>Every partition of an LSI is scoped to a base table partition that has the same partition key value</li><li>The total size of indexed items for any one partition key value cannot exceed 10GB</li><li>Up to 5 LSI per table (default)</li><li>Shares provisioned throughputs for R/W with the table it is indexing</li><li>Created with the initial table, and cannot be added or deleted after creation</li><li>LSI need both partition key (must be the same as the base table) and sort key (should be different from the base table)</li><li>Query one partition of table</li></ul></li></ul><p>=&gt; GSI is recommended over LSI (?)</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dynamodb-accelerator-dax"></a>DynamoDB Accelerator (DAX)<a class="hash-link" href="#dynamodb-accelerator-dax" title="Direct link to heading">#</a></h4><p><img src="https://images.viblo.asia/42c3315e-92b3-46d7-8e7a-4d2f04764fe3.png"></p><ul><li><p>DAX Cluster: One or more nodes</p><ul><li>1 primary node</li><li>Additional nodes serve as read replicas</li></ul></li><li><p>Fast response</p><ul><li>DynamoDB: can be single-digit milliseconds</li><li>With DAX: microseconds</li></ul></li><li><p>Reads are eventually consistent</p></li><li><p>Good for:</p><ul><li>Apps requires fastest response as possible</li><li>Read a small number of times more oftenly than others</li><li>Read-intensive, but cost-sensitive</li><li>Repeat reads against a larget set of data</li></ul></li><li><p>NG for:</p><ul><li>requires strongly consistent reads</li><li>Write-intensive</li><li>Consider using ElastiCache</li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="cli"></a>CLI<a class="hash-link" href="#cli" title="Direct link to heading">#</a></h4><ul><li><code>put-item</code> replace exist item, or add new item</li><li><code>update-item</code> update exist item, or add new</li><li><code>batch-get-item</code> get multiple items, up to 16MB of data, which contains as many as 100 items</li><li><code>batch-write-item</code> put/delete multiple items, up to 16MB of data, which comprise as many as 25 put or delete request. Invidual item to be written can be as large as 400KB</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="practical-note"></a>Practical note:<a class="hash-link" href="#practical-note" title="Direct link to heading">#</a></h4><p>TODO:</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/moonlight8978/moonlight8978.github.io/edit/v2/books/books/aws-developer-associated/dynamo-db.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-06-07T07:55:41.000Z" class="lastUpdatedDate_1WI_">6/7/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/books/aws-developer-associated/cognito"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« AWS Cognito</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/books/aws-developer-associated/ec2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">AWS EC2 Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Self notes</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/moonlight8978/moonlight8978.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://stackoverflow.com/users/8068639/moonlight8978" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 moonlight8978. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.40b7a2b6.js"></script>
<script src="/assets/js/main.e6ce383e.js"></script>
</body>
</html>